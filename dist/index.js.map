{
  "version": 3,
  "sources": ["../ts/util/math/vector2.ts", "../ts/util/html/css/background.ts", "../ts/util/html/css/size.ts", "../ts/util/math/transform.ts", "../ts/util/html/dom.ts", "../ts/util/html/el.ts", "../ts/util/html/div.ts", "../ts/util/html/svg.ts", "../ts/logic/tasks/task.ts", "../ts/logic/tasks/prefabs.ts", "../ts/logic/tasks/schedule.ts", "../ts/logic/tasks/travel.ts", "../ts/logic/tasks/route.ts", "../ts/logic/tasks/routeManager.ts", "../ts/util/pathCreator.ts", "../ts/logic/map/mapConnection.ts", "../ts/logic/map/mapLocation.ts", "../ts/logic/map/mapManager.ts", "../ts/logic/people/peopleManager.ts", "../ts/logic/map/list.ts", "../ts/util/game/main.ts", "../ts/util/game/ticker.ts", "../ts/render/renderLayer.ts", "../ts/util/math/timeEaser.ts", "../ts/logic/scene/ship/ship.ts", "../ts/util/math/util.ts", "../ts/logic/scene/backgrounds/horizon.ts", "../ts/logic/scene/backgrounds/moon.ts", "../ts/logic/scene/backgrounds/sun.ts", "../ts/logic/scene/backgrounds/sky.ts", "../ts/render/renderer.ts", "../ts/logic/logicManager.ts", "../ts/util/game/transitions/transitionBase.ts", "../ts/util/game/transitions/transitionFade.ts", "../ts/util/game/transitions/transitionInstant.ts", "../ts/util/math/ease.ts", "../ts/util/game/transitions/transitionWipe.ts", "../ts/util/game/transitions/transitionLibrary.ts", "../ts/util/game/container.ts", "../ts/util/math/math.ts", "../ts/util/html/sprite.ts", "../ts/visuals/character.ts", "../ts/visuals/visualTask.ts", "../ts/visuals/prefabs.ts", "../ts/visuals/visualPeople.ts", "../ts/logic/people/person.ts", "../ts/visuals/schedule.ts", "../ts/visuals/visualPerson.ts", "../ts/index.ts"],
  "sourcesContent": ["export class Vector2 {\r\n    public constructor(public x: number, public y: number) {\r\n    }\r\n    \r\n    public add(...args: (number | Vector2)[]): Vector2 {\r\n        let x = this.x;\r\n        let y = this.y;\r\n        \r\n        for (const arg of args) {\r\n            if (typeof arg === 'number') {\r\n                x += arg;\r\n                y += arg;\r\n            } else {\r\n                x += arg.x;\r\n                y += arg.y;\r\n            }\r\n        }\r\n        return new Vector2(x, y);\r\n    }\r\n    \r\n    public subtract(...args: (number | Vector2)[]): Vector2 {\r\n        let x = this.x;\r\n        let y = this.y;\r\n        \r\n        for (const arg of args) {\r\n            if (typeof arg === 'number') {\r\n                x -= arg;\r\n                y -= arg;\r\n            } else {\r\n                x -= arg.x;\r\n                y -= arg.y;\r\n            }\r\n        }\r\n        return new Vector2(x, y);\r\n    }\r\n    \r\n    public multiply(...args: (number | Vector2)[]): Vector2 {\r\n        let x = this.x;\r\n        let y = this.y;\r\n        \r\n        for (const arg of args) {\r\n            if (typeof arg === 'number') {\r\n                x *= arg;\r\n                y *= arg;\r\n            } else {\r\n                x *= arg.x;\r\n                y *= arg.y;\r\n            }\r\n        }\r\n        return new Vector2(x, y);\r\n    }\r\n    \r\n    public divide(...args: (number | Vector2)[]): Vector2 {\r\n        let x = this.x;\r\n        let y = this.y;\r\n        \r\n        for (const arg of args) {\r\n            if (typeof arg === 'number') {\r\n                x /= arg;\r\n                y /= arg;\r\n            } else {\r\n                x /= arg.x;\r\n                y /= arg.y;\r\n            }\r\n        }\r\n        return new Vector2(x, y);\r\n    }\r\n    \r\n    public angle(): number {\r\n        const mag = this.magnitude();\r\n        if (mag === 0) return 0;\r\n        return (Math.atan2(this.y, this.x) * 180) / Math.PI;\r\n    }\r\n    \r\n    public angleRadians(): number {\r\n        const mag = this.magnitude();\r\n        if (mag === 0) return 0;\r\n        return Math.atan2(this.y, this.x);\r\n    }\r\n    \r\n    public magnitude(): number {\r\n        return Math.sqrt(this.x * this.x + this.y * this.y);\r\n    }\r\n    \r\n    public rotate(angleDegrees: number): Vector2 {\r\n        return this.rotateRadians((angleDegrees * Math.PI) / 180);\r\n    }\r\n    \r\n    public rotateRadians(angleRadians: number): Vector2 {\r\n        const cos = Math.cos(angleRadians);\r\n        const sin = Math.sin(angleRadians);\r\n        return new Vector2(\r\n            this.x * cos - this.y * sin,\r\n            this.x * sin + this.y * cos\r\n        );\r\n    }\r\n    \r\n    public floor(): Vector2;\r\n    public floor(value: number): Vector2;\r\n    public floor(x: number, y: number): Vector2;\r\n    public floor(vector: Vector2): Vector2;\r\n    public floor(arg1?: number | Vector2, arg2?: number): Vector2 {\r\n        if (arg1 === undefined) {\r\n            return new Vector2(Math.floor(this.x), Math.floor(this.y));\r\n        } else if (typeof arg1 === 'number' && arg2 !== undefined) {\r\n            return new Vector2(Math.floor(this.x / arg1) * arg1, Math.floor(this.y / arg2) * arg2);\r\n        } else if (typeof arg1 === 'number') {\r\n            return new Vector2(Math.floor(this.x / arg1) * arg1, Math.floor(this.y / arg1) * arg1);\r\n        } else {\r\n            return new Vector2(Math.floor(this.x / arg1.x) * arg1.x, Math.floor(this.y / arg1.y) * arg1.y);\r\n        }\r\n    }\r\n    \r\n    public ceil(): Vector2;\r\n    public ceil(value: number): Vector2;\r\n    public ceil(x: number, y: number): Vector2;\r\n    public ceil(vector: Vector2): Vector2;\r\n    public ceil(arg1?: number | Vector2, arg2?: number): Vector2 {\r\n        if (arg1 === undefined) {\r\n            return new Vector2(Math.ceil(this.x), Math.ceil(this.y));\r\n        } else if (typeof arg1 === 'number' && arg2 !== undefined) {\r\n            return new Vector2(Math.ceil(this.x / arg1) * arg1, Math.ceil(this.y / arg2) * arg2);\r\n        } else if (typeof arg1 === 'number') {\r\n            return new Vector2(Math.ceil(this.x / arg1) * arg1, Math.ceil(this.y / arg1) * arg1);\r\n        } else {\r\n            return new Vector2(Math.ceil(this.x / arg1.x) * arg1.x, Math.ceil(this.y / arg1.y) * arg1.y);\r\n        }\r\n    }\r\n    \r\n    // Clamp methods with overloads\r\n    public clamp(min: number, max: number): Vector2;\r\n    public clamp(min: Vector2, max: Vector2): Vector2;\r\n    public clamp(minArg: number | Vector2, maxArg: number | Vector2): Vector2 {\r\n        if (typeof minArg === 'number' && typeof maxArg === 'number') {\r\n            return new Vector2(\r\n                Math.max(minArg, Math.min(maxArg, this.x)),\r\n                Math.max(minArg, Math.min(maxArg, this.y))\r\n            );\r\n        } else if (minArg instanceof Vector2 && maxArg instanceof Vector2) {\r\n            return new Vector2(\r\n                Math.max(minArg.x, Math.min(maxArg.x, this.x)),\r\n                Math.max(minArg.y, Math.min(maxArg.y, this.y))\r\n            );\r\n        }\r\n        throw new Error('Invalid clamp arguments: both min and max must be either numbers or Vector2 objects');\r\n    }\r\n\r\n    public clampMagnitude(maxMagnitude: number): Vector2 {\r\n        const magnitude = this.magnitude();\r\n        if (magnitude > maxMagnitude) {\r\n            return this.normalise().multiply(maxMagnitude);\r\n        }\r\n        return this;\r\n    }\r\n    \r\n    public clone(): Vector2 {\r\n        return new Vector2(this.x, this.y);\r\n    }\r\n    \r\n    public dot(other: Vector2): number {\r\n        return this.x * other.x + this.y * other.y;\r\n    }\r\n    \r\n    public lerp(target: Vector2, factor: number): Vector2 {\r\n        return new Vector2(\r\n            this.x + (target.x - this.x) * factor,\r\n            this.y + (target.y - this.y) * factor\r\n        );\r\n    }\r\n\r\n    public moveTowards(target: Vector2, maxDistance: number): Vector2 {\r\n        return this.add(target.subtract(this).clampMagnitude(maxDistance));\r\n    }\r\n    \r\n    public normalise(): Vector2 {\r\n        const mag = this.magnitude();\r\n        if (mag === 0) return new Vector2(0, 0);\r\n        return new Vector2(this.x / mag, this.y / mag);\r\n    }\r\n    \r\n    public flip(): Vector2 {\r\n        return new Vector2(-this.x, -this.y);\r\n    }\r\n    \r\n    public flipx(): Vector2 {\r\n        return new Vector2(-this.x, this.y);\r\n    }\r\n    \r\n    public flipy(): Vector2 {\r\n        return new Vector2(this.x, -this.y);\r\n    }\r\n    \r\n    public round(): Vector2;\r\n    public round(precision: number): Vector2;\r\n    public round(xPrecision: number, yPrecision: number): Vector2;\r\n    public round(precisionVector: Vector2): Vector2;\r\n    public round(arg1?: number | Vector2, arg2?: number): Vector2 {\r\n        const roundToPrecision = (value: number, precision: number): number => {\r\n            const factor = Math.pow(10, precision);\r\n            return Math.round(value * factor) / factor;\r\n        };\r\n        \r\n        if (arg1 === undefined) {\r\n            return new Vector2(roundToPrecision(this.x, 2), roundToPrecision(this.y, 2));\r\n        } else if (typeof arg1 === 'number' && arg2 !== undefined) {\r\n            return new Vector2(roundToPrecision(this.x, arg1), roundToPrecision(this.y, arg2));\r\n        } else if (typeof arg1 === 'number') {\r\n            return new Vector2(roundToPrecision(this.x, arg1), roundToPrecision(this.y, arg1));\r\n        } else {\r\n            return new Vector2(roundToPrecision(this.x, arg1.x), roundToPrecision(this.y, arg1.y));\r\n        }\r\n    }\r\n\r\n    public stringSize(): string {\r\n        return `${this.x}px ${this.y}px`;\r\n    }\r\n}\r\n", "\r\ninterface BackgroundColorOptions {\r\n    color?: string;\r\n}\r\n\r\ninterface BackgroundImageOptions {\r\n    type: 'image';\r\n    image: string;\r\n    position?: string;\r\n    repeat?: string;\r\n    size?: string;\r\n    attachment?: string;\r\n    origin?: string;\r\n    clip?: string;\r\n}\r\n\r\ninterface BackgroundLinearGradientOptions {\r\n    type: 'linear';\r\n    colors: { color: string; position?: string; }[];\r\n    positions?: string[];\r\n    direction?: string;\r\n}\r\n\r\ninterface BackgroundRepeatLinearGradientOptions {\r\n    type: 'repeat-linear';\r\n    colors: { color: string; position?: string; }[];\r\n    positions?: string[];\r\n    direction?: string;\r\n}\r\n\r\nexport type BackgroundOptions = string | (BackgroundColorOptions & (BackgroundImageOptions | BackgroundLinearGradientOptions | BackgroundRepeatLinearGradientOptions | {}));\r\n\r\nexport class Background {\r\n    public static getStyle(options: BackgroundOptions): string {\r\n\r\n        let style = '';\r\n\r\n        if (typeof options === 'string') {\r\n            style += `background: ${options};`;\r\n            return style;\r\n        }\r\n\r\n        if (options.color) {\r\n            style += `background-color: ${options.color};`;\r\n        }\r\n\r\n        if ('type' in options && options.type === 'image') {\r\n            style += `background-image: url(${options.image});`;\r\n            style += `background-position: ${options.position || 'center center'};`;\r\n            style += `background-repeat: ${options.repeat || 'no-repeat'};`;\r\n            style += `background-size: ${options.size || 'cover'};`;\r\n            style += `background-attachment: ${options.attachment || 'scroll'};`;\r\n            style += `background-origin: ${options.origin || 'padding-box'};`;\r\n            style += `background-clip: ${options.clip || 'border-box'};`;\r\n        } else if ('type' in options && options.type === 'linear') {\r\n            style += `background-image: linear-gradient(${options.direction || 'to bottom'}, ${options.colors.map(color => `${color.color} ${color.position || ''}`).join(', ')});`;\r\n        } else if ('type' in options && options.type === 'repeat-linear') {\r\n            style += `background-image: repeating-linear-gradient(${options.direction || 'to bottom'}, ${options.colors.map(color => `${color.color} ${color.position || ''}`).join(', ')});`;\r\n        }\r\n        return style;\r\n    }\r\n}", "import { Vector2 } from '../../math/vector2';\r\n\r\nexport class Size {\r\n    public static getStyle(size: Vector2|[string, string]): string {\r\n        let style = '';\r\n        if (Array.isArray(size)) {\r\n            style += `width: ${size[0]}; height: ${size[1]};`;\r\n        } else {\r\n            style += `width: ${size.x.toString()}px; height: ${size.y.toString()}px;`;\r\n        }\r\n        return style;\r\n    }\r\n}", "import { Dom } from '../html/dom';\r\nimport { El } from '../html/el';\r\nimport { Vector2 } from './vector2';\r\n\r\nexport class Transform2d {\r\n    private _position: Vector2 = new Vector2(0, 0);\r\n    private _rotation: number = 0; // in degrees\r\n    private _scale: Vector2 = new Vector2(1, 1);\r\n    private _anchor: Vector2 = new Vector2(0, 0); // normalized 0-1 or pixel values\r\n\r\n    private _cachedMatrix: string | null = null;\r\n    private _element: Dom;\r\n\r\n    public constructor(element: Dom) {\r\n        this._element = element;\r\n    }\r\n\r\n    public get position(): Vector2 {\r\n        return this._position.clone();\r\n    }\r\n\r\n    public setPosition(value: number, y?: number): Transform2d;\r\n    public setPosition(value: Vector2): Transform2d;\r\n    public setPosition(value: Vector2 | number, y?: number) {\r\n        if (typeof value === 'number') {\r\n            this._position = new Vector2(value, y ?? value);\r\n        } else {\r\n            this._position = value.clone();\r\n        }\r\n        this._cachedMatrix = null;\r\n        this.calculateMatrix();\r\n        return this\r\n    }\r\n\r\n    public move(value: Vector2) {\r\n        this._position = this._position.add(value);\r\n        this._cachedMatrix = null;\r\n        this.calculateMatrix();\r\n        return this\r\n    }\r\n\r\n    public get rotation(): number {\r\n        return this._rotation;\r\n    }\r\n\r\n    public setRotation(value: number) {\r\n        this._rotation = value;\r\n        this._cachedMatrix = null;\r\n        this.calculateMatrix();\r\n        return this\r\n    }\r\n\r\n    public rotate(value: number) {\r\n        this._rotation = this._rotation + value;\r\n        this._cachedMatrix = null;\r\n        this.calculateMatrix();\r\n        return this\r\n    }\r\n\r\n    public get scale(): Vector2 {\r\n        return this._scale.clone();\r\n    }\r\n\r\n    public setScale(value: Vector2 | number) {\r\n        if (typeof value === 'number') {\r\n            this._scale = new Vector2(value, value);\r\n        } else {\r\n            this._scale = value.clone();\r\n        }\r\n        this._cachedMatrix = null;\r\n        this.calculateMatrix();\r\n        return this\r\n    }\r\n\r\n\r\n    public get anchor(): Vector2 {\r\n        return this._anchor.clone();\r\n    }\r\n\r\n    public setAnchor(value: Vector2) {\r\n        this._anchor = value.clone();\r\n        this._cachedMatrix = null;\r\n        this.calculateMatrix();\r\n        return this\r\n    }\r\n\r\n    /**\r\n     * Gets the anchor point in pixels.\r\n     * If anchor values are between 0-1, they're treated as normalized (0-1 range).\r\n     * Otherwise, they're treated as pixel values.\r\n     */\r\n    private getAnchorPoint(): Vector2 {\r\n        return this._anchor;\r\n    }\r\n\r\n    /**\r\n     * Calculates and caches the CSS transform matrix string.\r\n     * The matrix combines: translation, rotation, and scale with proper anchor point handling.\r\n     * \r\n     * Transformation order: T(-anchor) -> Scale -> Rotate -> T(anchor) -> T(position)\r\n     * This ensures transformations occur around the anchor point, then the element is moved to position.\r\n     */\r\n    private calculateMatrix(): void {\r\n        const anchorPoint = this.getAnchorPoint();\r\n        const rotationRad = (this._rotation * Math.PI) / 180;\r\n        const cos = Math.cos(rotationRad);\r\n        const sin = Math.sin(rotationRad);\r\n        const sx = this._scale.x;\r\n        const sy = this._scale.y;\r\n\r\n        const anchorX = anchorPoint.x;\r\n        const anchorY = anchorPoint.y;\r\n\r\n        // Matrix multiplication: T(position) * T(anchor) * R * S * T(-anchor)\r\n        // CSS matrix format: matrix(a, b, c, d, e, f) represents:\r\n        // [a c e]\r\n        // [b d f]\r\n        // [0 0 1]\r\n\r\n        // Calculate rotation-scale matrix: R * S\r\n        const a = sx * cos;\r\n        const b = sx * sin;\r\n        const c = -sy * sin;\r\n        const d = sy * cos;\r\n\r\n        // Apply anchor point transformation\r\n        // Matrix chain: T(position) * T(anchor) * R * S * T(-anchor)\r\n        // After R*S*T(-anchor): translation = (-sx*anchorX*cos + sy*anchorY*sin, -sx*anchorX*sin - sy*anchorY*cos)\r\n        // After T(anchor): add anchor back = (anchorX - sx*anchorX*cos + sy*anchorY*sin, anchorY - sx*anchorX*sin - sy*anchorY*cos)\r\n        // After T(position): add position = (px + anchorX - sx*anchorX*cos + sy*anchorY*sin, py + anchorY - sx*anchorX*sin - sy*anchorY*cos)\r\n        // Note: c = -sy*sin, so -anchorY*c = sy*anchorY*sin (positive)\r\n        const e = this._position.x + anchorX - (anchorX * a) - (anchorY * c);\r\n        const f = this._position.y + anchorY - (anchorX * b) - (anchorY * d);\r\n\r\n        this._cachedMatrix = `matrix(${a}, ${b}, ${c}, ${d}, ${e}, ${f})`;\r\n        this._element.style(`transform: ${this._cachedMatrix}; transform-origin: 0 0;`);\r\n    }\r\n\r\n    /**\r\n     * Gets the CSS transform matrix string.\r\n     * Returns the cached matrix if available, otherwise calculates it.\r\n     */\r\n    public getMatrix(): string {\r\n        if (this._cachedMatrix === null) {\r\n            this.calculateMatrix();\r\n        }\r\n        return this._cachedMatrix!;\r\n    }\r\n\r\n    /**\r\n     * Gets the CSS transform-origin string based on the anchor point.\r\n     * Note: When using getMatrix(), the anchor is baked into the matrix, so transform-origin should be 0,0.\r\n     * This method is provided for cases where you want to use transform-origin separately.\r\n     */\r\n    public getTransformOrigin(): string {\r\n        const anchorPoint = this.getAnchorPoint();\r\n        return `${anchorPoint.x}px ${anchorPoint.y}px`;\r\n    }\r\n\r\n    /**\r\n     * Gets the complete CSS transform string (matrix only, with transform-origin set to 0,0).\r\n     * The anchor point is baked into the matrix calculation.\r\n     */\r\n    public getCSS(): string {\r\n        return `transform: ${this.getMatrix()}; transform-origin: 0 0;`;\r\n    }\r\n\r\n    /**\r\n     * Gets just the transform property value.\r\n     */\r\n    public getTransform(): string {\r\n        return this.getMatrix();\r\n    }\r\n\r\n    /**\r\n     * Clones this transform.\r\n     */\r\n    public clone(): Transform2d {\r\n        return new Transform2d(this._element).setPosition(this._position.clone()).setRotation(this._rotation).setScale(this._scale.clone()).setAnchor(this._anchor.clone());\r\n    }\r\n}", "import { Transform } from 'stream';\r\nimport { Vector2 } from '../math/vector2';\r\nimport { Background, BackgroundOptions } from './css/background';\r\nimport { Size } from './css/size';\r\nimport { Transform2d } from '../math/transform';\r\n\r\nexport interface DomOptions {\r\n    classNames?: string[];\r\n    id?: string;\r\n    style?: string;\r\n    attributes?: { [key: string]: string };\r\n    background?: BackgroundOptions;\r\n    size?: Vector2 | [string, string];\r\n    visible?: boolean;\r\n    text?: string;\r\n    html?: string;\r\n    position?: Vector2;\r\n    rotation?: number;\r\n    scale?: Vector2;\r\n    anchor?: Vector2;\r\n}\r\nexport abstract class Dom{\r\n    public abstract dom: HTMLElement | SVGElement;\r\n    public children: Dom[] = [];\r\n    protected _lastDisplay: string = 'block';\r\n\r\n    protected _visible: boolean = true;\r\n    transform: Transform2d;\r\n    public get visible(): boolean {\r\n        return this._visible;\r\n    }\r\n    public set visible(value: boolean) {\r\n        this._visible = value;\r\n        this.dom.style.display = value ? this._lastDisplay : 'none';\r\n    }\r\n\r\n    public constructor() {\r\n    }\r\n\r\n    protected build(options: DomOptions): void {\r\n        this._visible = options.visible || true;\r\n        if (options.classNames) {\r\n            this.dom.classList.add(...options.classNames);\r\n        }\r\n        if (options.id) {\r\n            this.dom.id = options.id;\r\n        }\r\n        if (options.style) {\r\n            this.style(options.style);\r\n        }\r\n        if (options.background) {\r\n            this.style(Background.getStyle(options.background));\r\n        }\r\n        if (options.size) {\r\n            this.size(options.size);\r\n        }\r\n        if (options.attributes) {\r\n            for (const [key, value] of Object.entries(options.attributes)) {\r\n                this.dom.setAttribute(key, value);\r\n            }\r\n        }\r\n        if (options.text) {\r\n            this.dom.textContent = options.text;\r\n        }\r\n        if (options.html) {\r\n            this.dom.innerHTML = options.html;\r\n        }\r\n\r\n        this.transform = new Transform2d(this)\r\n            .setPosition(options.position || new Vector2(0, 0))\r\n            .setRotation(options.rotation || 0)\r\n            .setScale(options.scale || new Vector2(1, 1))\r\n            .setAnchor(options.anchor || new Vector2(0, 0));\r\n    }\r\n\r\n    size(size: Vector2 | [string, string]) {\r\n        if (typeof size === 'object') {\r\n            this.dom.style.cssText += Size.getStyle(size);\r\n        } else {\r\n            this.dom.style.cssText += Size.getStyle([size[0], size[1]]);\r\n        }\r\n    }\r\n\r\n    style(style: string) {\r\n        this.dom.style.cssText += style;\r\n        if (this.dom.style.display !== 'none') {\r\n            this._lastDisplay = this.dom.style.display || 'block';\r\n        }\r\n    }\r\n    background(background: BackgroundOptions) {\r\n        this.dom.style.cssText += Background.getStyle(background);\r\n    }\r\n\r\n    tick() {\r\n        for (const child of this.children) {\r\n            child.tick();\r\n        }\r\n    }\r\n\r\n    resize() {\r\n        for (const child of this.children) {\r\n            child.resize();\r\n        }\r\n    }\r\n\r\n    append(child: Dom) {\r\n        this.dom.appendChild(child.dom);\r\n        this.children.push(child);\r\n        return child;\r\n    }\r\n\r\n    removeChild(child: Dom) {\r\n        this.dom.removeChild(child.dom);\r\n        this.children = this.children.filter(c => c !== child);\r\n    }\r\n}\r\n", "import { Dom, DomOptions } from './dom';\r\n\r\nexport interface ElOptions extends DomOptions {\r\n\r\n}\r\nexport class El<T extends keyof HTMLElementTagNameMap = keyof HTMLElementTagNameMap> extends Dom {\r\n    public dom: HTMLElementTagNameMap[T];\r\n\r\n    public constructor(type: T, options: ElOptions) {\r\n        super();\r\n        this.dom = document.createElement(type);\r\n        this.build(options);\r\n    }\r\n\r\n    append(child: Dom) {\r\n        this.dom.appendChild(child.dom);\r\n        this.children.push(child);\r\n        return child;\r\n    }\r\n\r\n    removeChild(child: Dom) {\r\n        this.dom.removeChild(child.dom);\r\n        this.children = this.children.filter(c => c !== child);\r\n    }\r\n}\r\n", "import { El, ElOptions } from './el';\r\n\r\nexport class Div extends El<'div'> {\r\n    public constructor(options: ElOptions = {}) {\r\n        super('div', options);\r\n    }\r\n}", "import { Vector2 } from '../math/vector2';\r\nimport { Dom, DomOptions } from './dom';\r\n\r\nexport interface SvgOptions extends DomOptions {\r\n    points?: string;\r\n    d?: string;\r\n    fill?: string;\r\n    stroke?: string;\r\n    strokeWidth?: number;\r\n    strokeLinecap?: string;\r\n    strokeLinejoin?: string;\r\n    strokeMiterlimit?: number;\r\n    strokeDasharray?: string;\r\n    strokeDashoffset?: number;\r\n    strokeOpacity?: number;\r\n    cx?: number;\r\n    cy?: number;\r\n    r?: number;\r\n    x?: number;\r\n    y?: number;\r\n}\r\nexport class Svg extends Dom {\r\n    getPointAtLength(length: number): Vector2 {\r\n        const point = (this.dom as SVGPathElement).getPointAtLength(length);\r\n        return new Vector2(point.x, point.y);\r\n    }\r\n    public dom: SVGElement;\r\n    public children: Svg[] = [];\r\n\r\n    public constructor(type: keyof SVGElementTagNameMap, options: SvgOptions) {\r\n        super();\r\n        this.dom = document.createElementNS('http://www.w3.org/2000/svg', type);\r\n        this.build(options);\r\n    }\r\n    build(options: SvgOptions): void {\r\n        super.build(options);\r\n        if (options.points) {\r\n            this.dom.setAttribute('points', options.points);\r\n        }\r\n        if (options.d) {\r\n            this.dom.setAttribute('d', options.d);\r\n        }\r\n        if (options.fill) {\r\n            this.dom.setAttribute('fill', options.fill);\r\n        }\r\n        if (options.stroke) {\r\n            this.dom.setAttribute('stroke', options.stroke);\r\n        }\r\n        if (options.strokeWidth) {\r\n            this.dom.setAttribute('stroke-width', options.strokeWidth.toString());\r\n        }\r\n        if (options.strokeLinecap) {\r\n            this.dom.setAttribute('stroke-linecap', options.strokeLinecap);\r\n        }\r\n        if (options.strokeLinejoin) {\r\n            this.dom.setAttribute('stroke-linejoin', options.strokeLinejoin);\r\n        }\r\n        if (options.strokeMiterlimit) {\r\n            this.dom.setAttribute('stroke-miterlimit', options.strokeMiterlimit.toString());\r\n        }\r\n        if (options.strokeDasharray) {\r\n            this.dom.setAttribute('stroke-dasharray', options.strokeDasharray);\r\n        }\r\n        if (options.strokeDashoffset) {\r\n            this.dom.setAttribute('stroke-dashoffset', options.strokeDashoffset.toString());\r\n        }\r\n        if (options.strokeOpacity) {\r\n            this.dom.setAttribute('stroke-opacity', options.strokeOpacity.toString());\r\n        }\r\n        if (options.cx) {\r\n            this.dom.setAttribute('cx', options.cx.toString());\r\n        }\r\n        if (options.cy) {\r\n            this.dom.setAttribute('cy', options.cy.toString());\r\n        }\r\n        if (options.r) {\r\n            this.dom.setAttribute('r', options.r.toString());\r\n        }\r\n        if (options.x) {\r\n            this.dom.setAttribute('x', options.x.toString());\r\n        }\r\n        if (options.y) {\r\n            this.dom.setAttribute('y', options.y.toString());\r\n        }\r\n    }\r\n\r\n    append(child: Svg) {\r\n        this.dom.appendChild(child.dom);\r\n        this.children.push(child);\r\n        return child;\r\n    }\r\n\r\n    removeChild(child: Svg) {\r\n        this.dom.removeChild(child.dom);\r\n        this.children = this.children.filter(c => c !== child);\r\n    }\r\n}\r\n", "import { Div } from \"../../util/html/div\";\r\nimport { Vector2 } from \"../../util/math/vector2\";\r\nimport { MapLocation } from \"../map/mapLocation\";\r\nimport { Schedule } from \"./schedule\";\r\nimport { TimePeriod } from \"./time\";\r\n\r\nexport interface TaskType {\r\n    name: string;\r\n    location: MapLocation;\r\n    start: TimePeriod;\r\n    end: TimePeriod;\r\n    color?: string;\r\n    priority?: number;\r\n}\r\n\r\nexport class Task {\r\n    dom: Div;\r\n    public constructor(public data: TaskType) {\r\n        this.data.priority = this.data.priority ?? 0.5;\r\n    }\r\n    build(): void {\r\n        this.dom = new Div({\r\n            size: new Vector2(Schedule.TASK_WIDTH * (this.data.end - this.data.start), Schedule.TASK_HEIGHT),\r\n            background: { color: this.data.color || 'white' },\r\n            style: 'display: flex; align-items: center; justify-content: center; font-size: 10px; font-family: \"Arial\", sans-serif; padding: 12.5px 3px; border: 1px solid black; overflow: hidden; box-sizing: border-box; position: absolute;',\r\n            text: this.data.name,\r\n        })\r\n    }\r\n\r\n    getLocation(): Vector2 {\r\n        return this.data.location.data.position;\r\n    }\r\n}", "import { MapLocation } from \"../map/mapLocation\";\r\nimport { Task } from \"./task\";\r\nimport { TimePeriod } from \"./time\";\r\n\r\n\r\nexport class IdleTask extends Task {\r\n    public constructor({ start, end, location }: { start: TimePeriod; end: TimePeriod; location: MapLocation; }) {\r\n      super({ name: '', start, end, location, color: 'white', priority: 0 });\r\n    }\r\n  }\r\nexport class SleepTask extends Task {\r\n    public constructor({ start, end, location }: { start: TimePeriod; end: TimePeriod; location: MapLocation; }) {\r\n        super({ name: 'Sleep', start, end, location, color: '#9f9f9f', priority: 0.1 });\r\n    }\r\n}\r\nexport class ShowerTask extends Task {\r\n    public constructor({ start, end, location }: { start: TimePeriod; end: TimePeriod; location: MapLocation; }) {\r\n        super({ name: 'Wash', start, end, location, color: '#c7c7ff', priority: 1 });\r\n    }\r\n}\r\nexport class EatTask extends Task {\r\n    public constructor({ start, end, location }: { start: TimePeriod; end: TimePeriod; location: MapLocation; }) {\r\n        super({ name: 'Food', start, end, location, color: '#b5d5d8', priority: 1 });\r\n    }\r\n}\r\nexport class EngineTask extends Task {\r\n    public constructor({ start, end, location }: { start: TimePeriod; end: TimePeriod; location: MapLocation; }) {\r\n        super({ name: 'Office', start, end, location, color: '#e1e1e1' });\r\n    }\r\n}\r\nexport class WorkTask extends Task {\r\n    public constructor({ start, end, location }: { start: TimePeriod; end: TimePeriod; location: MapLocation; }) {\r\n        super({ name: 'Work', start, end, location, color: '#dcb1cd' });\r\n    }\r\n}\r\n", "import { Div } from \"../../util/html/div\";\r\nimport { Vector2 } from \"../../util/math/vector2\";\r\nimport { MapLocation } from \"../map/mapLocation\";\r\nimport { Task, TaskType } from \"./task\";\r\nimport { TimePeriod } from \"./time\";\r\nimport { IdleTask } from \"./prefabs\";\r\nimport { Person, phase } from \"../people/person\";\r\nimport { Managers } from \"../managers\";\r\nimport { Travel } from \"./travel\";\r\n\r\nexport interface ScheduleType {\r\n\ttasks?: (TaskType | Task)[];\r\n}\r\n\r\nexport class Schedule {\r\n\tpublic static readonly TASK_WIDTH = 30;\r\n\tpublic static readonly TASK_HEIGHT = 30;\r\n\r\n\tprotected table: Record<TimePeriod, Task>;\r\n\tprotected taskList: Task[] = [];\r\n\tprotected travels: Travel[] = [];\r\n\r\n\tdom: Div;\r\n\tlineDom: Div;\r\n\tdebug: Div;\r\n\r\n\tpublic constructor(protected managers: Managers, public person: Person, public data: ScheduleType = {}) {\r\n\r\n\t\tif (data.tasks) for (const task of data.tasks) {\r\n\t\t\tthis.addTask(task);\r\n\t\t}\r\n\t}\r\n\r\n\taddTask(task: Task | TaskType): void {\r\n\t\tif (task instanceof Task) {\r\n\t\t\tthis.taskList.push(task);\r\n\t\t} else {\r\n\t\t\tthis.taskList.push(new Task(task));\r\n\t\t}\r\n\t}\r\n\r\n\tcreateIdleTask(start: TimePeriod, end: TimePeriod, location: MapLocation): Task {\r\n\t\treturn new IdleTask({\r\n\t\t\tstart,\r\n\t\t\tend,\r\n\t\t\tlocation,\r\n\t\t});\r\n\t}\r\n\r\n\tcheckTasks() {\r\n\t\tconst tempTable: Record<number, Task> = {};\r\n\t\tlet lastLocation: MapLocation;\r\n\t\tlet idleTask: Task;\r\n\t\tfor (let i: TimePeriod = 0; (i as TimePeriod) < 24; (i as TimePeriod)++) {\r\n\r\n\t\t\tconst tasks = this.taskList.filter(task => task.data.start <= i && task.data.end > i);\r\n\r\n\t\t\tif (tasks.length === 0) {\r\n\t\t\t\tif (!idleTask) {\r\n\t\t\t\t\tidleTask = this.createIdleTask(i, (i + 1) as TimePeriod, lastLocation);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tidleTask.data.end = (i + 1) as TimePeriod;\r\n\t\t\t\t}\r\n\t\t\t\ttempTable[i] = idleTask;\r\n\t\t\t} else {\r\n\t\t\t\tif (idleTask) {\r\n\t\t\t\t\tidleTask = null;\r\n\t\t\t\t}\r\n\t\t\t\ttempTable[i] = tasks[0];\r\n\t\t\t\tlastLocation = tasks[0].data.location;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.table = tempTable as Record<TimePeriod, Task>;\r\n\t}\r\n\r\n\tcheckTravels() {\r\n\t\tfor (let i: TimePeriod = 0; i < 24; i++) {\r\n\t\t\tconst from = this.table[i as TimePeriod];\r\n\t\t\tconst to = this.table[(((i + 1) % 24) as TimePeriod)];\r\n\t\t\tconst route = this.managers.routeManager.findRoute(\r\n\t\t\t\tfrom.data.location,\r\n\t\t\t\tto.data.location);\r\n\t\t\tconst travel = route.createTravel(this.person, (i + 1) as TimePeriod);\r\n\r\n\t\t\tif (from.data.priority === to.data.priority) {\r\n\t\t\t\ttravel.offset = 0.5;\r\n\t\t\t} else if (from.data.priority === 0) {\r\n\t\t\t\ttravel.offset = 0;\r\n\t\t\t} else if (to.data.priority === 0) {\r\n\t\t\t\ttravel.offset = 1;\r\n\t\t\t} else {\r\n\t\t\t\ttravel.offset = 0.5 + (from.data.priority / 2) - (to.data.priority / 2);\r\n\t\t\t}\r\n\r\n\t\t\ttravel.build();\r\n\t\t\tthis.dom.append(travel.dom);\r\n\t\t\tthis.travels.push(travel);\r\n\t\t}\r\n\t}\r\n\r\n\tbuild(): void {\r\n\t\tthis.debug = new Div({});\r\n\r\n\t\tthis.dom = new Div({\r\n\t\t\tposition: new Vector2(100, 0),\r\n\t\t\tsize: new Vector2(Schedule.TASK_WIDTH * 24, Schedule.TASK_HEIGHT),\r\n\t\t\tstyle: 'position: absolute;',\r\n\t\t});\r\n\t\tthis.checkTasks();\r\n\t\tfor (const task of Object.values(this.table)) {\r\n\t\t\ttask.build();\r\n\t\t\ttask.dom.transform.setPosition(new Vector2(task.data.start * Schedule.TASK_WIDTH, 0));\r\n\t\t\tthis.dom.append(task.dom);\r\n\t\t}\r\n\t\tthis.checkTravels();\r\n\r\n\t\tthis.lineDom = new Div({\r\n\t\t\tposition: new Vector2(0, 0),\r\n\t\t\tsize: new Vector2(2, Schedule.TASK_HEIGHT),\r\n\t\t\tbackground: { color: 'black' },\r\n\t\t});\r\n\t\tthis.dom.append(this.lineDom);\r\n\r\n\r\n\t}\r\n\r\n\tprivate getTaskAtTime(time: number): Task {\r\n\t\treturn this.table[Math.floor(time % 24) as TimePeriod];\r\n\t}\r\n\r\n\tsetTime(time: number): void {\r\n\t\tthis.lineDom.transform.setPosition(new Vector2((time % 24) / 24 * (Schedule.TASK_WIDTH * 24), 0));\r\n\t}\r\n\r\n\tgetInfoAtTime(time: number): { phase: phase, position: Vector2, task: Task | undefined } {\r\n\r\n\t\tfor (const travel of this.travels) {\r\n\t\t\tconst position = travel.getTimePostion(time % 24);\r\n\t\t\tif (position) {\r\n\t\t\t\treturn { phase: 'travel', position, task: undefined };\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst task = this.getTaskAtTime(time % 24);\r\n\t\treturn { phase: 'task', position: task?.data.location.data.position ?? new Vector2(0, 0), task: task };\r\n\t}\r\n}", "import { Div } from \"../../util/html/div\";\r\nimport { Svg } from \"../../util/html/svg\";\r\nimport { Vector2 } from \"../../util/math/vector2\";\r\nimport { Person } from \"../people/person\";\r\nimport { Route } from \"./route\";\r\nimport { Schedule } from \"./schedule\";\r\nimport { TimePeriod } from \"./time\";\r\n\r\n\r\nexport interface TravelType {\r\n    route: Route;\r\n    subject: Person;\r\n    arrivalTime: TimePeriod;\r\n}\r\n\r\nexport class Travel {\r\n\r\n    public leaveTime: number;\r\n    public arrivalTime: number;\r\n    public duration: number;\r\n    public dom: Div;\r\n    private _active: boolean = false;\r\n    public offset: number = 0.5;\r\n    private stages: {\r\n        from: Vector2;\r\n        fromTime: number;\r\n        to: Vector2;\r\n        toTime: number;\r\n        distance: number;\r\n    }[] = [];\r\n    public get active(): boolean {\r\n        return this._active;\r\n    }\r\n    public set active(value: boolean) {\r\n        this._active = value;\r\n    }\r\n\r\n    public constructor(public data: TravelType) {\r\n\r\n    }\r\n\r\n    build(): void {\r\n        this.duration = this.data.route.distance / this.data.subject.speed;\r\n        this.leaveTime = this.data.arrivalTime - this.duration + (this.duration * this.offset);\r\n        this.arrivalTime = this.data.arrivalTime + (this.duration * this.offset);\r\n\r\n        this.dom = new Div({\r\n            position: new Vector2(this.leaveTime * (Schedule.TASK_WIDTH * 24) / 24, 0),\r\n            size: new Vector2(Schedule.TASK_WIDTH * this.duration, Schedule.TASK_HEIGHT),\r\n            background: { type: 'repeat-linear', direction: '50deg', colors: [{ position: '0px', color: '#00000022' }, { position: '2px', color: 'black' }, { position: '2px', color: 'transparent' }, { position: '6px', color: 'transparent' }] },\r\n            style: 'box-sizing: border-box; position: absolute;',\r\n        });\r\n    }\r\n\r\n    getTimePostion(time: number): Vector2 | undefined {\r\n        if (time > this.leaveTime && time < this.arrivalTime) {\r\n            return this.data.route.getSegmentVector((time - this.leaveTime)*this.data.subject.speed);\r\n        }\r\n        return undefined;\r\n    }\r\n}", "import { Ease } from \"../../util/math/ease\";\r\nimport { Vector2 } from \"../../util/math/vector2\";\r\nimport { Managers } from \"../managers\";\r\nimport { MapConnection } from \"../map/mapConnection\";\r\nimport { MapLocation } from \"../map/mapLocation\";\r\nimport { Person } from \"../people/person\";\r\nimport { TimePeriod } from \"./time\";\r\nimport { Travel } from \"./travel\";\r\n\r\n\r\nexport interface RouteType {\r\n    from: MapLocation;\r\n    to: MapLocation;\r\n    through: MapLocation[];\r\n    connections: MapConnection[];\r\n    distance?: number;\r\n}\r\n\r\nexport class Route {\r\n    distance: number;\r\n    segments: {\r\n        connection: MapConnection;\r\n        distance: number;\r\n        start: number;\r\n        end: number;\r\n        direction: -1 | 1;\r\n    }[] = [];\r\n    public constructor(private managers: Managers, public data: RouteType) {\r\n        let totalDistance = 0;\r\n\r\n        for (let index = 0; index < data.connections.length; index++) {\r\n            const connection = data.connections[index];\r\n            this.segments.push({\r\n                connection: connection,\r\n                distance: connection.distance,\r\n                start: totalDistance,\r\n                end: totalDistance + connection.distance,\r\n                direction: connection.fromLocation === data.through[index] ? 1 : -1,\r\n            });\r\n            totalDistance += connection.distance;\r\n        }\r\n        this.distance = totalDistance;\r\n    }\r\n\r\n    public getSegmentVector(time: number): Vector2 {\r\n        const segment = this.segments.find(segment => time >= segment.start && time <= segment.end);\r\n        let delta = ((time - segment.start) / segment.distance);\r\n\r\n        if (segment.direction === -1) {\r\n            delta = 1 - delta;\r\n        }\r\n        return segment.connection.getVector(delta);\r\n    }\r\n\r\n    createTravel(subject: Person, arrivalTime: TimePeriod): Travel {\r\n        return new Travel({\r\n            route: this,\r\n            subject: subject,\r\n            arrivalTime: arrivalTime,\r\n        });\r\n    }\r\n}", "import { Managers } from \"../managers\";\r\nimport { MapConnection } from \"../map/mapConnection\";\r\nimport { MapLocation } from \"../map/mapLocation\";\r\nimport { MapManager } from \"../map/mapManager\";\r\nimport { Route } from \"./route\";\r\n\r\nexport class RouteManager {\r\n\r\n    routes: Route[] = [];\r\n\r\n    constructor(private managers: Managers) {\r\n    }\r\n\r\n\r\n    createNullRoute(locationA: MapLocation): Route {\r\n        const route = new Route(this.managers, {\r\n            from: locationA,\r\n            to: locationA,\r\n            through: [],\r\n            connections: [],\r\n        });\r\n        return route;\r\n    }\r\n\r\n    findRoute(locationA: MapLocation, locationB: MapLocation): Route {\r\n        const found =  this.routes.find(route =>\r\n            (route.data.from === locationA && route.data.to === locationB));\r\n        if (found) {\r\n            return found;\r\n        }\r\n        return this.createRoute(locationA, locationB);\r\n    }\r\n\r\n    private static recursiveRoute(locationA: MapLocation, locationB: MapLocation, route: MapLocation[], distance: number, exclude: MapLocation[], connections: MapConnection[]): {\r\n        route: MapLocation[],\r\n        distance: number,\r\n        end: boolean,\r\n        connections: MapConnection[],\r\n    } | false {\r\n\r\n        const excludeList = [...exclude, locationA];\r\n\r\n        if (locationA === locationB) {\r\n            return {\r\n                route: [...route, locationA],\r\n                distance: distance,\r\n                end: true,\r\n                connections: [...connections],\r\n            };\r\n        }\r\n\r\n        const possiblities: {\r\n            route: MapLocation[],\r\n            distance: number,\r\n            end: boolean,\r\n            connections: MapConnection[],\r\n        }[] = [];\r\n\r\n        for (const neighbor of locationA.neighbors) {\r\n            if (excludeList.includes(neighbor[0])) {\r\n                continue;\r\n            }\r\n\r\n            const d = neighbor[1].distance;\r\n            const foundRoute = RouteManager.recursiveRoute(neighbor[0], locationB, [...route, locationA], distance + d, excludeList, [...connections, neighbor[1]]);\r\n            if (foundRoute) {\r\n                possiblities.push(foundRoute);\r\n            }\r\n        }\r\n\r\n        if (possiblities.length > 0) {\r\n            return possiblities.sort((a, b) => a.distance - b.distance)[0];\r\n        }\r\n        return false;\r\n\r\n    }\r\n    private createRoute(locationA: MapLocation, locationB: MapLocation): Route {\r\n\r\n        const foundRoute = RouteManager.recursiveRoute(locationA, locationB, [], 0, [], []);\r\n\r\n        if (!foundRoute) {\r\n            throw new Error('No route found');\r\n        }\r\n\r\n        const route = new Route(this.managers, {\r\n            from: locationA,\r\n            to: locationB,\r\n            through: foundRoute.route,\r\n            distance: foundRoute.distance,\r\n            connections: foundRoute.connections,\r\n        });\r\n\r\n        return route;\r\n    }\r\n}", "import { Vector2 } from \"./math/vector2\";\r\n\r\nexport function PathCreator(start: Vector2, ...d: ({\r\n    point: Vector2,\r\n} | {\r\n    point: Vector2,\r\n    controlA: Vector2,\r\n    controlB: Vector2,\r\n} | {\r\n    point: Vector2,\r\n    control: Vector2\r\n} | {\r\n    // arc\r\n    point: Vector2,\r\n    radius: number,\r\n    startAngle: number,\r\n    endAngle: number,\r\n    largeArcFlag: boolean,\r\n    sweepFlag: boolean,\r\n})[]) {\r\n\r\n    let path = `M ${start.x} ${start.y}`;\r\n    for (const segment of d) {\r\n        if ('controlA' in segment) {\r\n            path += `C ${segment.controlA.x} ${segment.controlA.y} ${segment.controlB.x} ${segment.controlB.y} ${segment.point.x} ${segment.point.y}`;\r\n        } else if ('control' in segment) {\r\n            path += `Q ${segment.control.x} ${segment.control.y} ${segment.point.x} ${segment.point.y}`;\r\n        } else if ('radius' in segment) {\r\n            path += `A ${segment.radius} ${segment.radius} 0 ${segment.largeArcFlag ? 1 : 0} ${segment.sweepFlag ? 1 : 0} ${segment.point.x} ${segment.point.y}`;\r\n        } else {\r\n            path += `L ${segment.point.x} ${segment.point.y}`;\r\n        }\r\n    }\r\n    return path;\r\n}", "import { Div } from \"../../util/html/div\";\r\nimport { Svg } from \"../../util/html/svg\";\r\nimport { Vector2 } from \"../../util/math/vector2\";\r\nimport { PathCreator } from \"../../util/pathCreator\";\r\nimport { Managers } from \"../managers\";\r\nimport { MapLocation } from \"./mapLocation\";\r\nimport { MapManager } from \"./mapManager\";\r\n\r\nexport interface MapConnectionType {\r\n    from: string;\r\n    to: string;\r\n    path?: string;\r\n    oneWay?: boolean;\r\n}\r\n\r\nexport class MapConnection {\r\n\r\n    fromLocation: MapLocation;\r\n    toLocation: MapLocation;\r\n    distance: number;\r\n    line: Svg;\r\n    public constructor(private managers: Managers, public data: MapConnectionType) {\r\n\r\n        if (this.data.from === this.data.to) {\r\n            throw new Error(\"From and to cannot be the same\");\r\n        }\r\n\r\n    }\r\n\r\n    build(): void {\r\n        this.fromLocation = this.managers.mapManager.getLocation(this.data.from);\r\n        this.toLocation = this.managers.mapManager.getLocation(this.data.to);\r\n        this.fromLocation.registerConnection(this, this.fromLocation, this.toLocation);\r\n\r\n        if (!this.data.oneWay) {\r\n            this.toLocation.registerConnection(this, this.fromLocation, this.toLocation);\r\n        }\r\n\r\n        this.line = new Svg('path', {\r\n            d: this.data.path ?? PathCreator(this.fromLocation.data.position, { point: this.toLocation.data.position }),\r\n            stroke: 'black',\r\n            strokeWidth: 2,\r\n            fill: 'none',\r\n        });\r\n\r\n        this.distance = (this.line.dom as SVGPathElement).getTotalLength();\r\n\r\n    }\r\n\r\n    getVector(delta: number): Vector2 {\r\n        return this.line.getPointAtLength(delta * this.distance);\r\n    }\r\n}\r\n", "import { Div } from \"../../util/html/div\";\r\nimport { Svg } from \"../../util/html/svg\";\r\nimport { Vector2 } from \"../../util/math/vector2\";\r\nimport { Managers } from \"../managers\";\r\nimport { Route } from \"../tasks/route\";\r\nimport { MapConnection } from \"./mapConnection\";\r\n\r\nexport interface MapLocationType {\r\n    position: Vector2;\r\n    name: string;\r\n}\r\n\r\nexport class MapLocation {\r\n    connections: MapConnection[] = [];\r\n    neighbors: [MapLocation, MapConnection][] = [];\r\n    routes: Record<string, Route> = {};\r\n    dom: Svg;\r\n\r\n    public constructor(private managers: Managers, public data: MapLocationType) {\r\n    }\r\n    registerConnection(connection: MapConnection, a: MapLocation, b: MapLocation): void {\r\n        this.connections.push(connection);\r\n\r\n        if (a !== this) this.neighbors.push([a, connection]);\r\n        if (b !== this) this.neighbors.push([b, connection]);\r\n    }\r\n    registerRoute(to: string, route: Route): void {\r\n        this.routes[to] = route;\r\n    }\r\n\r\n    build(): void {\r\n        this.dom = new Svg('g', {\r\n            \r\n        });\r\n        this.dom.append(new Svg('circle', {\r\n            cx: this.data.position.x,\r\n            cy: this.data.position.y,\r\n            r: 5,\r\n            fill: 'black',\r\n        }));\r\n\r\n        // this.dom.append(new Svg('text', {\r\n        //     text: this.data.name,\r\n        //     x: this.data.position.x + 15,\r\n        //     y: this.data.position.y + 25,\r\n        // }));\r\n    }\r\n}", "import { Div } from \"../../util/html/div\";\r\nimport { Dom } from \"../../util/html/dom\";\r\nimport { Svg } from \"../../util/html/svg\";\r\nimport { Vector2 } from \"../../util/math/vector2\";\r\nimport { Managers } from \"../managers\";\r\nimport { RouteManager } from \"../tasks/routeManager\";\r\nimport { mapLocations } from \"./list\";\r\nimport { MapConnection, MapConnectionType } from \"./mapConnection\";\r\nimport { MapLocation, MapLocationType } from \"./mapLocation\";\r\n\r\n\r\nexport class MapManager {\r\n\r\n    private locations: Record<string, MapLocation> = {};\r\n    private mapConnections: MapConnection[] = [];\r\n    public readonly routeManager: RouteManager;\r\n    dom: Div;\r\n    mapSvg: Svg;\r\n\r\n    public constructor(\r\n        private managers: Managers,\r\n        locations: Record<string, Vector2> = {},\r\n        connections: MapConnectionType[] = [],\r\n    ) {\r\n\r\n        for (const location of Object.entries(locations)) {\r\n            this.locations[location[0]] = new MapLocation(this.managers, { name: location[0], position: location[1] });\r\n        }\r\n\r\n        for (const connection of connections) {\r\n            this.mapConnections.push(new MapConnection(this.managers, connection));\r\n        }\r\n\r\n        this.routeManager = new RouteManager(this.managers);\r\n\r\n    }\r\n\r\n    public getLocation(name: string): MapLocation {\r\n        return this.locations[name];\r\n    }\r\n\r\n    build(): void {\r\n        this.dom = new Div();\r\n        this.mapSvg = new Svg('svg', {\r\n            size: new Vector2(1000, 1000),\r\n        });\r\n        this.dom.append(this.mapSvg);\r\n        for (const connection of this.mapConnections) {\r\n            connection.build();\r\n            // this.mapSvg.append(connection.line);\r\n        }\r\n        for (const location of Object.values(this.locations)) {\r\n            location.build();\r\n            // this.mapSvg.append(location.dom);\r\n        }\r\n    }\r\n}", "import { Div } from \"../../util/html/div\";\r\nimport { Dom } from \"../../util/html/dom\";\r\nimport { Vector2 } from \"../../util/math/vector2\";\r\nimport { Managers } from \"../managers\";\r\nimport { Schedule } from \"../tasks/schedule\";\r\nimport { Person, PersonType } from \"./person\";\r\n\r\nexport class PeopleManager<T extends Person> {\r\n    people: T[] = [];\r\n    dom: Dom;\r\n    timeDom: Dom;\r\n    public constructor(\r\n        protected managers: Managers<T>,\r\n        protected data: PersonType[] = [],\r\n        protected personClass: new (managers: Managers<T>, data: PersonType) => T,\r\n    ) {\r\n        for (const person of this.data) {\r\n            if (person instanceof this.personClass) {\r\n                this.people.push(person);\r\n            } else {\r\n                this.people.push(new this.personClass(this.managers, person));\r\n            }\r\n        }\r\n    }\r\n\r\n    getPerson(name: string): Person {\r\n        return this.people.find(person => person.data.name === name);\r\n    }\r\n\r\n    build(): void {\r\n        this.dom = new Div({\r\n            size: new Vector2(850, this.people.length * Schedule.TASK_HEIGHT + Schedule.TASK_HEIGHT+20),\r\n            style: 'z-index: 20; background-color: white; padding: 10px;',\r\n        });\r\n        this.people.forEach((person, index) => {\r\n            person.build();\r\n            this.dom.append(person.scheduleDom);\r\n            person.scheduleDom.transform.setPosition(new Vector2(0, index * Schedule.TASK_HEIGHT));\r\n        });\r\n\r\n        this.timeDom = this.dom.append(new Div({\r\n            position: new Vector2(0, this.people.length * Schedule.TASK_HEIGHT),\r\n            size: new Vector2(100, Schedule.TASK_HEIGHT),\r\n            text: ''.toString(),\r\n            style: 'font-size: 20px; display: flex; align-items: center; justify-content: center; font-family: \"monospace\", sans-serif; box-sizing: border-box; position: absolute; ',\r\n        }));\r\n    }\r\n\r\n    setTime(time: number): void {\r\n        this.people.forEach(person => {\r\n            person.setTime(time % 24);\r\n        });\r\n        const hours = Math.floor(time % 24).toString().padStart(2, '0');\r\n        const minutes = Math.round(time % 1 * 60).toString().padStart(2, '0');\r\n        this.timeDom.dom.textContent = hours + ':' + minutes;\r\n    }\r\n}", "import { Vector2 } from \"../../util/math/vector2\";\r\nimport { MapConnectionType } from \"./mapConnection\";\r\nimport { PathCreator } from \"../../util/pathCreator\";\r\n\r\nexport const mapLocations = {\r\n    cph_front: new Vector2(250+300, 655+130),\r\n    deck0: new Vector2(310+300, 662+130),\r\n    wheel: new Vector2(315+300, 659+130),\r\n    deck1: new Vector2(420+300, 670+130),\r\n    deck1Stair: new Vector2(430+300, 664+130),\r\n    deck2: new Vector2(520+300, 677+130),\r\n    deck3: new Vector2(700+300, 679+130),\r\n    deck4: new Vector2(870+300, 670+130),\r\n    gun3: new Vector2(515+300, 720+130),\r\n    gun3Stair: new Vector2(500+300, 715+130),\r\n}\r\n\r\nexport const mapConnections = [\r\n    { from: \"cph_front\", to: \"deck0\" },\r\n    { from: \"deck0\", to: \"deck1\" },\r\n    { from: \"deck0\", to: \"wheel\" },\r\n    { from: \"deck1\", to: \"deck2\" },\r\n    { from: \"deck1\", to: \"deck1Stair\" },\r\n    { from: \"deck1Stair\", to: \"gun3Stair\" },\r\n    { from: \"deck2\", to: \"deck3\" },\r\n    { from: \"deck3\", to: \"deck4\" },\r\n    { from: \"gun3Stair\", to: \"gun3\" },\r\n\r\n\r\n]", "\r\nimport { Container } from './container';\r\nimport { Div } from '../html/div';\r\nimport { Vector2 } from '../math/vector2';\r\n\r\nexport class Main extends Div {\r\n    public constructor(container: Container) {\r\n        super({\r\n            classNames: ['main'],\r\n            size: ['100%', '100%'],\r\n        });\r\n\r\n        window['$'] = {\r\n            get size(): Vector2 {\r\n                return new Vector2(window.innerWidth, window.innerHeight);\r\n            },\r\n            main: this,\r\n            frame: 0,\r\n            time: 0,\r\n            get intervalMultiplier(): number {\r\n                return container.ticker.currentFPS / 60;\r\n            },\r\n            transitions: container.transitions,\r\n        };\r\n    }\r\n}\r\n", "export type TickerCallback = (deltaTime: number, elapsedTime: number, frameCount: number) => void;\r\n\r\n/**\r\n * A ticker class that uses requestAnimationFrame for smooth animation.\r\n * Frame rate is variable and matches the browser's refresh rate.\r\n */\r\nexport class Ticker {\r\n    private animationFrameId: number | null = null;\r\n    private callbacks: Set<TickerCallback> = new Set();\r\n    private startTime: number = 0;\r\n    private lastFrameTime: number = 0;\r\n    private frameCount: number = 0;\r\n    private isRunning: boolean = false;\r\n\r\n    /**\r\n     * Starts the ticker using requestAnimationFrame\r\n     */\r\n    public start(): void {\r\n        if (this.isRunning) {\r\n            return;\r\n        }\r\n\r\n        this.isRunning = true;\r\n        this.startTime = performance.now();\r\n        this.lastFrameTime = this.startTime;\r\n        this.frameCount = 0;\r\n\r\n        this.tick();\r\n    }\r\n\r\n    /**\r\n     * Stops the ticker\r\n     */\r\n    public stop(): void {\r\n        if (!this.isRunning) {\r\n            return;\r\n        }\r\n\r\n        this.isRunning = false;\r\n        \r\n        if (this.animationFrameId !== null) {\r\n            cancelAnimationFrame(this.animationFrameId);\r\n            this.animationFrameId = null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Adds a callback to be called on each tick\r\n     */\r\n    public addCallback(callback: TickerCallback): void {\r\n        this.callbacks.add(callback);\r\n    }\r\n\r\n    /**\r\n     * Removes a callback\r\n     */\r\n    public removeCallback(callback: TickerCallback): void {\r\n        this.callbacks.delete(callback);\r\n    }\r\n\r\n    /**\r\n     * Removes all callbacks\r\n     */\r\n    public clearCallbacks(): void {\r\n        this.callbacks.clear();\r\n    }\r\n\r\n    /**\r\n     * Gets the current average frame rate based on elapsed time and frame count\r\n     */\r\n    public get currentFPS(): number {\r\n        if (!this.isRunning || this.frameCount === 0) {\r\n            return 0;\r\n        }\r\n        const elapsedSeconds = (performance.now() - this.startTime) / 1000;\r\n        return this.frameCount / elapsedSeconds;\r\n    }\r\n\r\n    /**\r\n     * Gets whether the ticker is currently running\r\n     */\r\n    public get running(): boolean {\r\n        return this.isRunning;\r\n    }\r\n\r\n    /**\r\n     * Gets the current frame count\r\n     */\r\n    public get currentFrameCount(): number {\r\n        return this.frameCount;\r\n    }\r\n\r\n    /**\r\n     * Gets the total elapsed time since start in milliseconds\r\n     */\r\n    public get elapsedTime(): number {\r\n        if (!this.isRunning) {\r\n            return 0;\r\n        }\r\n        return performance.now() - this.startTime;\r\n    }\r\n\r\n    private tick(): void {\r\n        if (!this.isRunning) {\r\n            return;\r\n        }\r\n\r\n        const currentTime = performance.now();\r\n        const deltaTime = currentTime - this.lastFrameTime;\r\n        const elapsedTime = currentTime - this.startTime;\r\n        \r\n        this.frameCount++;\r\n        this.lastFrameTime = currentTime;\r\n\r\n        // Call all registered callbacks\r\n        this.callbacks.forEach(callback => {\r\n            callback(deltaTime, elapsedTime, this.frameCount);\r\n        });\r\n\r\n        // Schedule next frame\r\n        this.animationFrameId = requestAnimationFrame(() => {\r\n            this.tick();\r\n        });\r\n    }\r\n}\r\n\r\n// Export a singleton instance for convenience\r\nexport const ticker = new Ticker();\r\n", "import { Div } from \"../util/html/div\";\r\nimport { Dom } from \"../util/html/dom\";\r\nimport { El } from \"../util/html/el\";\r\n\r\nexport class RenderLayer extends Div {\r\n    private _depth: number;\r\n    public get depth(): number {\r\n        return this._depth;\r\n    }\r\n    public set depth(value: number) {\r\n        this._depth = value;\r\n        this.style(`z-index: ${this._depth};`);\r\n    }\r\n    private _opacity: number = 1;\r\n    public get opacity(): number {\r\n        return this._opacity;\r\n    }\r\n    public set opacity(value: number) {\r\n        if (value !== this._opacity) {\r\n            this._opacity = value;\r\n            this.style(`opacity: ${value}`);\r\n        }\r\n    }\r\n    constructor(public element: Dom, depth: number, options: {\r\n        transition?: number;\r\n    } = {}) {\r\n        super();\r\n        this.append(element);\r\n        this.opacity = 1;\r\n        this.depth = depth;\r\n        this.setOptions(options);\r\n    }\r\n\r\n    setOptions(options: {\r\n        transition?: number;\r\n    }) {\r\n        if (options.transition) {\r\n            this.style(`transition: opacity ${options.transition}s ease-in-out;`);\r\n        }\r\n    }\r\n}", "export function timeEaser(value: number, keyframes: [number, number][], range: number = 1): number {\r\n    // Handle empty keyframes\r\n    if (keyframes.length === 0) {\r\n        return 0;\r\n    }\r\n    \r\n    // If only one keyframe, return its value\r\n    if (keyframes.length === 1) {\r\n        return keyframes[0][1];\r\n    }\r\n    \r\n    // Sort keyframes by time (first value)\r\n    const sorted = [...keyframes].sort((a, b) => a[0] - b[0]);\r\n    \r\n    // If value is before the first keyframe, return the first keyframe's value\r\n    if (value <= sorted[0][0]) {\r\n        return sorted[0][1];\r\n    }\r\n    \r\n    // If value is after the last keyframe, return the last keyframe's value\r\n    if (value >= sorted[sorted.length - 1][0]) {\r\n        return sorted[sorted.length - 1][1];\r\n    }\r\n    \r\n    // Find the two keyframes the value falls between\r\n    for (let i = 0; i < sorted.length - 1; i++) {\r\n        const [time1, val1] = sorted[i];\r\n        const [time2, val2] = sorted[i + 1];\r\n        \r\n        // Handle hard cut (same time values)\r\n        if (time1 === time2) {\r\n            // If value is exactly at this time or before, use first value\r\n            // Otherwise, continue to next pair\r\n            if (value <= time1) {\r\n                return val1;\r\n            }\r\n            continue;\r\n        }\r\n        \r\n        // Check if value falls between these two keyframes\r\n        if (value >= time1 && value <= time2) {\r\n            // Linear interpolation\r\n            const t = (value - time1) / (time2 - time1);\r\n            return val1 + (val2 - val1) * t;\r\n        }\r\n    }\r\n    \r\n    // Fallback (shouldn't reach here, but just in case)\r\n    return sorted[sorted.length - 1][1];\r\n}\r\n", "import { RendererWrappers } from \"../../../render/renderer\";\r\nimport { RenderLayer } from \"../../../render/renderLayer\";\r\nimport { Div } from \"../../../util/html/div\";\r\nimport { Ease } from \"../../../util/math/ease\";\r\nimport { timeEaser } from \"../../../util/math/timeEaser\";\r\nimport { Vector2 } from \"../../../util/math/vector2\";\r\nimport { Managers } from \"../../managers\";\r\nimport { TimePeriod } from \"../../tasks/time\";\r\n\r\nexport type ShipThemeLayers = 'back' | 'front';\r\n\r\nexport abstract class ShipTheme {\r\n    private layers: Record<ShipThemeLayers, {\r\n        div: Div;\r\n        renderLayer: RenderLayer;\r\n    }>;\r\n    constructor(layers: Record<ShipThemeLayers, string>, protected time: [number, number][], protected managers: Managers, scale: number = 0.35, layer: RendererWrappers = 'ship') {\r\n        this.layers = Object.fromEntries(Object.entries(layers).map(([layer, image]) => {\r\n            const div = new Div({\r\n                background: {\r\n                    image: `dist/images/ship/${image}.png`,\r\n                    type: 'image',\r\n                },\r\n                scale: new Vector2(scale, scale),\r\n                style: 'opacity: 1; transition: opacity 0.1s ease-in-out;',\r\n                size: new Vector2(3840, 3200),\r\n                position: new Vector2(300, -120),\r\n            });\r\n            return [layer, {\r\n                div,\r\n                renderLayer: new RenderLayer(div, 40),\r\n            }];\r\n        })) as Record<ShipThemeLayers, {\r\n            div: Div;\r\n            renderLayer: RenderLayer;\r\n        }>;\r\n\r\n        this.managers.renderer.add(this.layers.back.renderLayer, layer, 40);\r\n        this.managers.renderer.add(this.layers.front.renderLayer, layer, 60);\r\n    }\r\n\r\n    setTime(time: number) {\r\n        let opacity = timeEaser(time % 24, this.time, 24);\r\n        this.layers.back.renderLayer.opacity = opacity;\r\n        this.layers.front.renderLayer.opacity = (1 - this.open) * opacity;\r\n\r\n    }\r\n    private _open: number = 0;\r\n    public get open(): number {\r\n        return this._open;\r\n    }\r\n    public set open(value: number) {\r\n        this._open = value;\r\n    }\r\n}\r\n\r\nexport class ShipNight extends ShipTheme {\r\n    constructor(managers: Managers, scale: number = 0.35, layer: RendererWrappers = 'ship') {\r\n        super({\r\n            back: 'night_back',\r\n            front: 'night_front',\r\n        }, [\r\n            [5, 1],\r\n            [10, 0],\r\n            [15, 0],\r\n            [20, 1],\r\n        ], managers, scale, layer);\r\n    }\r\n}\r\nexport class ShipDay extends ShipTheme {\r\n    constructor(managers: Managers, scale: number = 0.35, layer: RendererWrappers = 'ship') {\r\n        super({\r\n            back: 'back',\r\n            front: 'front',\r\n        }, [\r\n            [5, 0],\r\n            [10, 1],\r\n            [15, 1],\r\n            [20, 0],\r\n        ], managers, scale, layer);\r\n    }\r\n}\r\n\r\nexport class Ship {\r\n    day: ShipDay;\r\n    night: ShipNight;\r\n    constructor(protected managers: Managers, scale: number = 0.35, layer: RendererWrappers = 'ship') {\r\n        this.night = new ShipNight(this.managers, scale, layer);\r\n        this.day = new ShipDay(this.managers, scale, layer);\r\n    }\r\n\r\n    setTime(time: number) {\r\n        this.day.setTime(time % 24);\r\n        this.night.setTime(time % 24);\r\n\r\n        // let open = (time < 9 || time > 19) ? 1 : 0;\r\n\r\n        // if (time >= 9 && time <= 10) open = 1-(time - 9) / 1;\r\n        // if (time >= 18 && time <= 19) open = (time - 18) / 1;\r\n\r\n        // this.day.open = open;\r\n        // this.night.open = open;\r\n\r\n\r\n\r\n\r\n    }\r\n    private _open: boolean = false;\r\n    public get open(): boolean {\r\n        return this._open;\r\n    }\r\n    public set open(value: boolean) {\r\n        this._open = value;\r\n        this.day.open = Number(value);\r\n        this.night.open = Number(value);\r\n    }\r\n\r\n}", "export class Utils {\r\n    static easeColor(interval: number, from: [number, number, number, number], to: [number, number, number, number]): string {\r\n        return `rgba(${from[0] * interval + to[0] * (1 - interval)}, ${from[1] * interval + to[1] * (1 - interval)}, ${from[2] * interval + to[2] * (1 - interval)}, ${from[3] * interval + to[3] * (1 - interval)})`;\r\n    }\r\n    static colorToArray(color: string): [number, number, number, number] {\r\n        const match = color.match(/^rgba?\\((\\d+),(\\d+),(\\d+),?(\\d*)?\\)$/);\r\n        if (!match) {\r\n            throw new Error(`Invalid color: ${color}`);\r\n        }\r\n        return [parseInt(match[1]), parseInt(match[2]), parseInt(match[3]), match[4] ? parseInt(match[4]) : 1];\r\n    }\r\n}", "import { Div } from \"../../../util/html/div\";\r\nimport { timeEaser } from \"../../../util/math/timeEaser\";\r\nimport { Utils } from \"../../../util/math/util\";\r\nimport { Vector2 } from \"../../../util/math/vector2\";\r\nimport { Managers } from \"../../managers\";\r\n\r\nexport class Horizon extends Div {\r\n    overlay: import(\"c:/Users/basm/Documents/workspace/schedule/ts/render/renderLayer\").RenderLayer;\r\n    constructor(protected managers: Managers) {\r\n        super({\r\n            position: new Vector2(0, 1080 - 150 - 150),\r\n            size: ['1920px', '150px'],\r\n            background: {\r\n                color: 'rgb(28 42 58 / 85%)',\r\n            },\r\n        });\r\n        this.managers.renderer.add(this, 'bg', 40);\r\n        this.overlay = this.managers.renderer.add(new Div({\r\n            position: new Vector2(0, 1080 - 150),\r\n            size: ['1920px', '150px'],\r\n            background: {\r\n                color: 'rgb(28 42 58 / 85%)',\r\n            },\r\n        }), 'overlay', 40);\r\n    }\r\n    setTime(time: number) {\r\n        this.overlay.element.background({\r\n            color: Utils.easeColor(timeEaser(time % 24, [\r\n                [7, 1],\r\n                [12, 0],\r\n                [15, 0],\r\n                [20, 1],\r\n            ], 24), [28, 42, 58, 1], [90, 130, 180, 1]),\r\n        });\r\n        this.background({\r\n            color: Utils.easeColor(timeEaser(time % 24, [\r\n                [7, 1],\r\n                [12, 0],\r\n                [15, 0],\r\n                [20, 1],\r\n            ], 24), [28, 42, 58, 1], [90, 130, 180, 1]),\r\n        });\r\n    }\r\n}", "import { RenderLayer } from \"../../../render/renderLayer\";\r\nimport { Div } from \"../../../util/html/div\";\r\nimport { Dom } from \"../../../util/html/dom\";\r\nimport { timeEaser } from \"../../../util/math/timeEaser\";\r\nimport { Vector2 } from \"../../../util/math/vector2\";\r\nimport { Managers } from \"../../managers\";\r\n\r\nexport class Moon extends Div {\r\n    moon: Dom;\r\n    reflection: Div;\r\n    reflectionWrap: Div;\r\n    overlay: RenderLayer;\r\n    constructor(protected managers: Managers) {\r\n        super({\r\n            size: ['1920px', '800px'],\r\n            style: 'overflow: hidden;',\r\n        });\r\n        this.moon = new Div({\r\n            size: ['90px', '90px'],\r\n            background: {\r\n                color: 'rgb(255, 255, 255)',\r\n            },\r\n            anchor: new Vector2(45, 45),\r\n            style: 'position: absolute; border-radius: 50%; filter: drop-shadow(0 0 50px rgb(255, 255, 255)) blur(1px); margin-top: -45px; margin-left: -45px; ',\r\n        });\r\n        this.managers.renderer.add(this, 'bg', 35);\r\n        this.append(this.moon);\r\n\r\n        this.reflectionWrap = new Div({\r\n            size: ['1920px', '300px'],\r\n            position: new Vector2(0, 1080 - 300),\r\n            style: 'overflow: hidden;',\r\n        });\r\n        this.reflection = new Div({\r\n            size: ['180px', '180px'],\r\n            background: {\r\n                color: 'rgba(255, 255, 255, 0.36)',\r\n            },\r\n            anchor: new Vector2(90, 90),\r\n            style: 'position: absolute; border-radius: 50%; filter: drop-shadow(0 0 300px rgb(255, 255, 255)) blur(200px) ; margin-top: -90px; margin-left: -90px; ',\r\n        });\r\n        this.reflectionWrap.append(this.reflection);\r\n        this.managers.renderer.add(this.reflectionWrap, 'overlay', 50);\r\n\r\n        this.overlay = this.managers.renderer.add(new Div({\r\n            size: new Vector2(3000, 3000),\r\n            position: new Vector2(-1080 / 2, -1920 / 2),\r\n            background: {\r\n                type: 'linear',\r\n                colors: [\r\n                    { color: 'rgba(255, 255, 255, 0.3)', position: '20%' },\r\n                    { color: 'rgba(255, 255, 255, 0)', position: '80%' },\r\n                ],\r\n                direction: 'to right',\r\n            },\r\n            anchor: new Vector2(1500, 1500),\r\n        }), 'overlay', 60);\r\n\r\n    }\r\n    setTime(time: number) {\r\n        const p = new Vector2(0, -1000).rotate(time * 360 / 24).add(new Vector2(1920, 1080).divide(2)).add(new Vector2(0, 300));\r\n        this.moon.transform.setPosition(p);\r\n        const p2 = p.multiply(new Vector2(1, -1)).add(new Vector2(0, 700));\r\n        let o = 1 - (p2.y - 300) / 600;\r\n        this.reflection.transform.setPosition(p2);\r\n        this.reflection.style(`opacity: ${o};`);\r\n\r\n        this.overlay.element.transform.setRotation(time / 24 * 360 + 90);\r\n\r\n        const opacity = timeEaser(time % 24, [\r\n            [0, 0.5],\r\n            [5, 1],\r\n            [6, 0],\r\n            [18, 0],\r\n            [19, 1],\r\n            [24, 0.5],\r\n        ], 24);\r\n        this.overlay.opacity = opacity;\r\n\r\n\r\n    }\r\n}", "import { RenderLayer } from \"../../../render/renderLayer\";\r\nimport { Div } from \"../../../util/html/div\";\r\nimport { timeEaser } from \"../../../util/math/timeEaser\";\r\nimport { Vector2 } from \"../../../util/math/vector2\";\r\nimport { Managers } from \"../../managers\";\r\n\r\nexport class Sun extends Div {\r\n    sun: Div;\r\n    reflectionWrap: Div;\r\n    reflection: Div;\r\n    overlay: RenderLayer;\r\n    constructor(protected managers: Managers) {\r\n        super({\r\n            size: ['1920px', '800px'],\r\n            style: 'overflow: hidden;',\r\n        });\r\n        this.sun = new Div({\r\n            size: ['200px', '200px'],\r\n            background: {\r\n                color: 'rgba(244, 244, 73, 0.3)',\r\n            },\r\n            anchor: new Vector2(100, 100),\r\n            style: 'position: absolute; border-radius: 50%; filter: drop-shadow(0 0 100px rgba(244, 244, 73, 1)) blur(10px); margin-top: -100px; margin-left: -100px; ',\r\n        });\r\n        this.managers.renderer.add(this, 'bg', 30);\r\n        this.append(this.sun);\r\n\r\n\r\n        this.reflectionWrap = new Div({\r\n            size: ['1920px', '300px'],\r\n            position: new Vector2(0, 1080 - 300),\r\n            style: 'overflow: hidden;',\r\n        });\r\n        this.reflection = new Div({\r\n            size: ['500px', '500px'],\r\n            background: {\r\n                color: 'rgba(244, 244, 73, 0.36)',\r\n            },\r\n            anchor: new Vector2(90, 90),\r\n            style: 'position: absolute; border-radius: 50%; filter: blur(300px) ; margin-top: -250px; margin-left: -250px; ',\r\n        });\r\n        this.reflectionWrap.append(this.reflection);\r\n        this.managers.renderer.add(this.reflectionWrap, 'overlay', 50);\r\n\r\n        this.overlay = this.managers.renderer.add(new Div({\r\n            size: new Vector2(3000, 3000),\r\n            position: new Vector2(-1080 / 2, -1920 / 2),\r\n            background: {\r\n                type: 'linear',\r\n                colors: [\r\n                    { color: 'rgba(246, 234, 68, 0.25)', position: '0%' },\r\n                    { color: 'rgba(245, 239, 64, 0)', position: '100%' },\r\n                ],\r\n                direction: 'to right',\r\n            },\r\n            anchor: new Vector2(1500, 1500),\r\n        }), 'overlay', 59);\r\n    }\r\n    setTime(time: number) {\r\n\r\n        const p = new Vector2(0, 1000).rotate(time * 360 / 24).add(new Vector2(1920, 1080).divide(2)).add(new Vector2(0, 300));\r\n        this.sun.transform.setPosition(p);\r\n        const p2 = p.multiply(new Vector2(1, -1)).add(new Vector2(0, 700));\r\n        let o = 1 - (p2.y - 100) / 400;\r\n        this.reflection.transform.setPosition(p2);\r\n        this.reflection.style(`opacity: ${o};`);\r\n\r\n        this.overlay.element.transform.setRotation(time / 24 * 360 - 90);\r\n\r\n        const opacity = timeEaser(time % 24, [\r\n            [6, 0],\r\n            [7, 1],\r\n            [12.5, 0.3],\r\n            [17, 1],\r\n            [18, 0],\r\n        ], 24);\r\n        this.overlay.opacity = opacity;\r\n\r\n    }\r\n}", "import { RenderLayer } from \"../../../render/renderLayer\";\r\nimport { Div } from \"../../../util/html/div\";\r\nimport { timeEaser } from \"../../../util/math/timeEaser\";\r\nimport { Utils } from \"../../../util/math/util\";\r\nimport { Vector2 } from \"../../../util/math/vector2\";\r\nimport { Managers } from \"../../managers\";\r\nimport { Horizon } from \"./horizon\";\r\nimport { Moon } from \"./moon\";\r\nimport { Sun } from \"./sun\";\r\n\r\nexport class Sky extends Div {\r\n    sun: Sun;\r\n    moon: any;\r\n    horizon: Horizon;\r\n    overlay: Div;\r\n    constructor(protected managers: Managers) {\r\n        super({\r\n            size: ['1920px', '1080px'],\r\n            background: {\r\n                color: 'blue',\r\n            },\r\n        });\r\n        this.managers.renderer.add(this, 'bg', 25);\r\n        this.sun = new Sun(this.managers);\r\n        this.moon = new Moon(this.managers);\r\n        this.horizon = new Horizon(this.managers);\r\n\r\n        \r\n\r\n        this.setTime(15);\r\n\r\n    }\r\n    setTime(time: number) {\r\n        const color = Utils.easeColor((timeEaser(time % 24, [\r\n            [5, 0],\r\n            [9, 1],\r\n            [15, 1],\r\n            [19, 0],\r\n        ], 24)), [173, 202, 251, 1], [10, 20, 30, 1]);\r\n        this.background({\r\n            color: color,\r\n        });\r\n        this.sun.setTime(time);\r\n        this.moon.setTime(time);\r\n        this.horizon.setTime(time);\r\n    }\r\n}", "import { Div } from \"../util/html/div\";\r\nimport { Dom } from \"../util/html/dom\";\r\nimport { El } from \"../util/html/el\";\r\nimport { Vector2 } from \"../util/math/vector2\";\r\nimport { RenderLayer } from \"./renderLayer\";\r\n\r\nexport type RendererWrappers = 'bg' | 'world' | 'shipBG' | 'ship' | 'overlay' | 'ui';\r\nexport class Renderer extends Div {\r\n    private wrappers: Record<RendererWrappers, {\r\n        div: Div;\r\n        depth: number;\r\n    }>;\r\n    constructor(wrappers: Record<RendererWrappers, number>) {\r\n        super({\r\n            classNames: ['renderer'],\r\n            style: 'overflow: hidden;width: 1920px; height: 1080px;',\r\n        });\r\n        this.wrappers = {} as typeof this.wrappers;\r\n        Object.entries(wrappers).forEach(([name, depth]) => {\r\n            const div = new Div({\r\n                classNames: [name],\r\n                style: 'position: absolute; top: 0; left: 0; width: 100%; height: 100%;',\r\n            });\r\n            this.wrappers[name as RendererWrappers] = {\r\n                div: div,\r\n                depth: depth,\r\n            };\r\n            div.style(`z-index: ${depth};`);\r\n            this.append(this.wrappers[name as RendererWrappers].div);\r\n        });\r\n    }\r\n    add(element: RenderLayer | Dom, wrapperName: RendererWrappers, depth?: number, options?: {\r\n        transition?: number;\r\n    }) {\r\n        let layer: RenderLayer;\r\n        if (element instanceof RenderLayer) {\r\n            layer = element;\r\n            if (depth) {\r\n                layer.depth = depth;\r\n            }\r\n            if (options) {\r\n                layer.setOptions(options);\r\n            }\r\n        } else {\r\n            layer = new RenderLayer(element, depth ?? 0, options);\r\n        }\r\n        this.wrappers[wrapperName].div.append(layer);\r\n        return layer;\r\n    }\r\n    getWrapper(wrapperName: RendererWrappers) {\r\n        return this.wrappers[wrapperName].div;\r\n    }\r\n\r\n    resize() {\r\n        super.resize();\r\n        const scale = Math.min(window.innerWidth / 1920, window.innerHeight / 1080);\r\n        this.transform.setScale(scale);\r\n    }\r\n}", "import { Vector2 } from \"../util/math/vector2\";\r\nimport { MapManager } from \"./map/mapManager\";\r\nimport { PeopleManager } from \"./people/peopleManager\";\r\nimport { mapConnections, mapLocations } from \"./map/list\";\r\nimport { Main } from \"../util/game/main\";\r\nimport { Container } from \"../util/game/container\";\r\nimport { Ticker } from \"../util/game/ticker\";\r\nimport { Managers } from \"./managers\";\r\nimport { Person, PersonType } from \"./people/person\";\r\nimport { Ship } from \"./scene/ship/ship\";\r\nimport { Sky } from \"./scene/backgrounds/sky\";\r\nimport { Renderer } from \"../render/renderer\";\r\nimport { RenderLayer } from \"../render/renderLayer\";\r\nimport { Div } from \"../util/html/div\";\r\n\r\nexport interface LogicManagerClasses<P extends Person> {\r\n    Person: new (managers: Managers<P>, data: PersonType) => P;\r\n}\r\n\r\nexport class LogicManager<P extends Person> extends Main {\r\n    mapManager: MapManager;\r\n    peopleManager: PeopleManager<P>;\r\n    ticker: void;\r\n    private values: {\r\n        secondsPerDay: number;\r\n    } = {\r\n        secondsPerDay: 50,\r\n    };\r\n    managers: Managers<P> = {\r\n        mapManager: null,\r\n        peopleManager: null,\r\n        routeManager: null,\r\n        renderer: new Renderer({\r\n            bg: 10,\r\n            world: 20,\r\n            shipBG: 25,\r\n            ship: 30,\r\n            overlay: 30,\r\n            ui: 40,\r\n        }),\r\n    };\r\n    ship: Ship;\r\n    sky: Sky;\r\n    shipLayer: Div;\r\n    shipBG: Ship;\r\n    shipBGLayer: Div;\r\n    public constructor(\r\n        public container: Container,\r\n        protected classes: LogicManagerClasses<P>,\r\n        protected peopleData: (mapManager: MapManager) => PersonType[] = () => [],\r\n    ) {\r\n        super(container);\r\n        container.append(this.managers.renderer);\r\n        this.sky = new Sky(this.managers);\r\n        this.shipBG = new Ship(this.managers, 0.20, 'shipBG');\r\n        this.ship = new Ship(this.managers);\r\n        this.mapManager = new MapManager(this.managers as Managers<P>, mapLocations, mapConnections);\r\n\r\n        this.peopleManager = new PeopleManager<P>(\r\n            this.managers as Managers<P>, this.peopleData(this.mapManager), this.classes.Person\r\n        );\r\n\r\n        this.managers.mapManager = this.mapManager;\r\n        this.managers.peopleManager = this.peopleManager;\r\n        this.managers.routeManager = this.mapManager.routeManager;\r\n\r\n        this.mapManager.build();\r\n        this.peopleManager.build();\r\n        this.managers.renderer.add(this.peopleManager.dom, 'ui', 1);\r\n        this.peopleManager.dom.visible = false;\r\n\r\n        this.ticker = new Ticker().addCallback(this.tick.bind(this));\r\n        this.shipLayer = this.managers.renderer.getWrapper('ship');\r\n        this.shipLayer.transform.setAnchor(new Vector2(1920 / 2, 800));\r\n        this.shipBGLayer = this.managers.renderer.getWrapper('shipBG');\r\n        this.shipBGLayer.transform.setAnchor(new Vector2(1920 / 2, 800));\r\n        this.shipBGLayer.visible = false;\r\n        this.shipBGLayer.style('height: 480px; overflow: hidden;');\r\n\r\n        this.container.dom.addEventListener('click', () => {\r\n        });\r\n        document.addEventListener('keydown', (e) => {\r\n            if (e.key === 's') {\r\n                this.peopleManager.dom.visible = !this.peopleManager.dom.visible;\r\n            }\r\n            if (e.key === ' ') {\r\n                this.ship.open = !this.ship.open;\r\n            }\r\n            if (e.key === 'o') {\r\n                this.shipBGLayer.visible = !this.shipBGLayer.visible;\r\n            }\r\n            if (['1', '2', '3', '4', '5', '6', '7', '8', '9'].includes(e.key)) {\r\n                this.timeOffset = $.time - LogicManager.timeToMs((parseInt(e.key)-1)/9*24, this.values.secondsPerDay);\r\n            }\r\n        });\r\n        this.container.dom.addEventListener('resize', () => {\r\n            this.managers.renderer.resize();\r\n        });\r\n\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        if (urlParams.get('spd')) this.values.secondsPerDay = parseInt(urlParams.get('spd'));\r\n        if (urlParams.get('ship')) this.shipBGLayer.visible = true;\r\n    }\r\n\r\n    setup() {\r\n\r\n    }\r\n\r\n    timeOffset: number = 0;\r\n\r\n    setTime(time: number): void {\r\n\r\n        this.peopleManager.setTime(time % 24);\r\n        this.ship.setTime(time % 24);\r\n        this.shipBG.setTime(time % 24);\r\n        this.sky.setTime(time % 24);\r\n\r\n        const waveRotation = 1;\r\n        const waveTime = 1000;\r\n        const waveHeight = 10;\r\n        const wave = Math.sin($.time / waveTime);\r\n        const wave2 = Math.sin(($.time - 800) / 1000);\r\n        this.shipLayer.transform.setRotation(wave * waveRotation);\r\n        this.shipLayer.transform.setPosition(0, wave2 * waveHeight);\r\n\r\n        const waveRotationBG = 1;\r\n        const waveTimeBG = 500;\r\n        const waveHeightBG = 5;\r\n        const waveBG = Math.sin(($.time + 2000) / waveTime);\r\n        const wave2BG = Math.sin((($.time + 2000) - 800) / 1000);\r\n        this.shipBGLayer.transform.setRotation(waveBG * waveRotationBG);\r\n        this.shipBGLayer.transform.setPosition(700, wave2BG * waveHeightBG +350);\r\n    }\r\n\r\n    static msToTime(ms: number, secondsPerDay: number): number {\r\n        return (ms * 24 / 1000 / secondsPerDay) % 24; // this works\r\n    } \r\n    static timeToMs(time: number, secondsPerDay: number): number {\r\n        return ((secondsPerDay*1000) /24 * (time%24)); // this doesnt work\r\n    }\r\n\r\n    tick(): void {\r\n        this.setTime(LogicManager.msToTime($.time - this.timeOffset, this.values.secondsPerDay));\r\n    }\r\n}\r\n\r\n//order of operations:\r\n// 1. create mapManager with locations\r\n//    a. each location has a position\r\n//    b. each location is drawn on the map\r\n// 2. create mapConnections to connect certain locations\r\n//    a. each mapConnection has a position\r\n//    b. each mapConnection is drawn as lines. their distances calculated\r\n// 2. automatically create routes between locations\r\n//    a. each route has a list of mapConnections\r\n//    b. each route has their total distance calculated\r\n// 3. create peopleManager with people assigned to taskManager\r\n//    a. create a schedule for each person, creating the tasks in the process\r\n//    b. each schedule is checked and backfilled with idle time\r\n//    c. schedules are visualized\r\n// d. check if a route exists between two locations\r\n", "import { Div } from \"../../html/div\";\r\nimport { Main } from \"../main\";\r\n\r\nexport interface TransitionSettings {\r\n    duration?: number;\r\n}\r\n\r\nexport abstract class TransitionIn<T extends TransitionSettings = TransitionSettings> extends Div {\r\n    \r\n    private _active: boolean;\r\n    private startTime: number;\r\n    duration: number;\r\n    public get active(): boolean {\r\n        return this._active;\r\n    }\r\n    public set active(value: boolean) {\r\n        this._active = value;\r\n        this.visible = value;\r\n    }\r\n    public data: {\r\n        from: Div;\r\n        to: Div;\r\n        via: TransitionOut;\r\n        settings?: T;\r\n        settingsOut?: TransitionSettings;\r\n    }\r\n    public constructor(protected defaultSettings: Required<T>) {\r\n        super({\r\n            classNames: ['transition-in'],\r\n            size: ['100%', '100%'], \r\n        });\r\n        this.active = false;\r\n    }\r\n    public abstract set progress(value: number) \r\n    trigger(from?: Div, to?: Div, via?: TransitionOut, settings?: T, settingsOut?: typeof via['data']['settings']) {\r\n        this.startTime = $.time;\r\n        this.data = {\r\n            from,\r\n            to,\r\n            via,\r\n            settings,\r\n            settingsOut,\r\n        };\r\n        this.applySettings(settings);\r\n        this.active = true;\r\n    }\r\n    applySettings(settings?: T) {\r\n        this.duration = settings?.duration || this.defaultSettings.duration;\r\n    }\r\n    tick() {\r\n        if (this.active) {\r\n            const p = ($.time - this.startTime) / this.duration;\r\n            this.progress = Math.min(p, 1);\r\n            if (p >= 1) {\r\n                this.active = false;\r\n                this.progress = 0;\r\n                if (this.data.from) {\r\n                    this.data.from.visible = false;\r\n                }\r\n      \r\n                if (this.data.via){\r\n                    this.data.via.trigger(this.data.to, this.data.settingsOut);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport abstract class TransitionOut<T extends TransitionSettings = TransitionSettings> extends Div {\r\n    private _active: boolean;\r\n    private startTime: number;\r\n    public get active(): boolean {\r\n        return this._active;\r\n    }\r\n    public set active(value: boolean) {\r\n        this._active = value;\r\n        this.visible = value;\r\n    }\r\n\r\n    public data: {\r\n        to: Div;\r\n        settings: T;\r\n    };\r\n\r\n    public duration: number;\r\n\r\n    public constructor(protected defaultSettings: Required<T>) {\r\n        super({\r\n            classNames: ['transition-out'],\r\n            size: ['100%', '100%'],\r\n        });\r\n        this.active = false;\r\n    }\r\n\r\n    public abstract set progress(value: number) \r\n    trigger(to?: Div, settings?: T) {\r\n        this.startTime = $.time;\r\n        this.data = {\r\n            to,\r\n            settings,\r\n        };\r\n\r\n        this.applySettings(settings);\r\n\r\n        this.active = true;\r\n        if (to) {\r\n            to.visible = true;\r\n        }\r\n    }\r\n    applySettings(settings?: T) {\r\n        this.duration = settings?.duration || this.defaultSettings.duration;\r\n    }\r\n    tick() {\r\n        if (this.active) {\r\n            const p = ($.time - this.startTime) / this.duration;\r\n            this.progress = Math.min(p, 1);\r\n            if (p >= 1) {\r\n                this.active = false;\r\n                this.progress = 0;\r\n            }\r\n        }\r\n    }\r\n}", "import { Div } from \"../../html/div\";\r\nimport { TransitionIn, TransitionOut, TransitionSettings } from \"./transitionBase\";\r\n\r\nexport interface TransitionInFadeSettings extends TransitionSettings {\r\n    color?: string;\r\n}\r\nexport class TransitionInFade extends TransitionIn<TransitionInFadeSettings> {\r\n    private cover: Div;\r\n    public set progress(value: number) {\r\n        this.cover.style(`opacity: ${value};`);\r\n    }\r\n    public constructor() {\r\n        super({ duration: 400, color: 'black' });\r\n        this.cover = new Div({\r\n            size: ['100%', '100%'],\r\n            background: this.defaultSettings.color,\r\n        });\r\n        this.append(this.cover);\r\n    }\r\n    applySettings(settings?: TransitionInFadeSettings) {\r\n        super.applySettings(settings);\r\n        this.cover.style(`background: ${settings?.color || this.defaultSettings.color};`);\r\n    }\r\n}\r\n\r\nexport interface TransitionOutFadeSettings extends TransitionSettings {\r\n    color?: string;\r\n}\r\nexport class TransitionOutFade extends TransitionOut<TransitionInFadeSettings> {\r\n    private cover: Div;\r\n    public set progress(value: number) {\r\n        this.cover.style(`opacity: ${1-value};`);\r\n    }\r\n    public constructor() {\r\n        super({ duration: 400, color: 'black' });\r\n        this.cover = new Div({\r\n            size: ['100%', '100%'],\r\n            background: this.defaultSettings.color,\r\n        });\r\n        this.append(this.cover);\r\n    }\r\n    applySettings(settings?: TransitionOutFadeSettings) {\r\n        super.applySettings(settings);\r\n        this.cover.style(`background: ${settings?.color || this.defaultSettings.color};`);\r\n    }\r\n}", "import { Div } from \"../../html/div\";\r\nimport { TransitionIn, TransitionOut, TransitionSettings } from \"./transitionBase\";\r\n\r\nexport interface TransitionInInstantSettings extends TransitionSettings {\r\n    color?: string;\r\n}\r\nexport class TransitionInInstant extends TransitionIn<TransitionInInstantSettings> {\r\n    private cover: Div;\r\n    public set progress(value: number) {\r\n        this.cover.style(`opacity: ${value>=1 ? 0 : 1};`);\r\n    }\r\n    public constructor() {\r\n        super({ duration: 0, color: 'black' });\r\n        this.cover = new Div({\r\n            size: ['100%', '100%'],\r\n            background: this.defaultSettings.color,\r\n        });\r\n        this.append(this.cover);\r\n    }\r\n    applySettings(settings?: TransitionInInstantSettings) {\r\n        super.applySettings(settings);\r\n        this.cover.style(`background: ${settings?.color || this.defaultSettings.color};`);\r\n    }\r\n}\r\n\r\nexport interface TransitionOutInstantSettings extends TransitionSettings {\r\n    color?: string;\r\n}\r\nexport class TransitionOutInstant extends TransitionOut<TransitionInInstantSettings> {\r\n    private cover: Div;\r\n    public set progress(value: number) {\r\n        this.cover.style(`opacity: ${value>=1 ? 0 : 1};`);\r\n    }\r\n    public constructor() {\r\n        super({ duration: 0, color: 'black' });\r\n        this.cover = new Div({\r\n            size: ['100%', '100%'],\r\n            background: this.defaultSettings.color,\r\n        });\r\n        this.append(this.cover);\r\n    }\r\n    applySettings(settings?: TransitionOutInstantSettings) {\r\n        super.applySettings(settings);\r\n        this.cover.style(`background: ${settings?.color || this.defaultSettings.color};`);\r\n    }\r\n}", "export class Ease {\r\n    public static easeInOut(t: number): number {\r\n        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\r\n    }\r\n    public static easeIn(t: number): number {\r\n        return t * t;\r\n    }\r\n    public static easeOut(t: number): number {\r\n        return 1 - (1 - t) * (1 - t);\r\n    }\r\n}", "import { Div } from \"../../html/div\";\r\nimport { Ease } from \"../../math/ease\";\r\nimport { TransitionIn, TransitionOut, TransitionSettings } from \"./transitionBase\";\r\n\r\nexport interface TransitionInWipeSettings extends TransitionSettings {\r\n    color?: string;\r\n}\r\nexport class TransitionInWipeLeft extends TransitionIn<TransitionInWipeSettings> {\r\n    private cover: Div;\r\n    public set progress(value: number) {\r\n        this.cover.style(`transform: translateX(${(1-Ease.easeIn(value))*100}%);`);\r\n    }\r\n    public constructor() {\r\n        super({ duration: 800, color: 'black' });\r\n        this.cover = new Div({\r\n            size: ['100%', '100%'],\r\n            background: this.defaultSettings.color,\r\n        });\r\n        this.append(this.cover);\r\n    }\r\n    applySettings(settings?: TransitionInWipeSettings) {\r\n        super.applySettings(settings);\r\n        this.cover.style(`background: ${settings?.color || this.defaultSettings.color};`);\r\n    }\r\n}\r\nexport interface TransitionOutWipeSettings extends TransitionSettings {\r\n    color?: string;\r\n}\r\nexport class TransitionOutWipeLeft extends TransitionOut<TransitionOutWipeSettings> {\r\n    private cover: Div;\r\n    public set progress(value: number) {\r\n        this.cover.style(`transform: translateX(${(Ease.easeOut(value))*-100}%);`);\r\n    }\r\n    public constructor() {\r\n        super({ duration: 800, color: 'black' });\r\n        this.cover = new Div({\r\n            size: ['100%', '100%'],\r\n            background: 'black',\r\n        });\r\n        this.append(this.cover);\r\n    }\r\n    applySettings(settings?: TransitionOutWipeSettings) {\r\n        super.applySettings(settings);\r\n        this.cover.style(`background: ${settings?.color || this.defaultSettings.color};`);\r\n    }\r\n}\r\n\r\nexport class TransitionInWipeRight extends TransitionIn<TransitionInWipeSettings> {\r\n    private cover: Div;\r\n    public set progress(value: number) {\r\n        this.cover.style(`transform: translateX(${(1-Ease.easeIn(value))*-100}%);`);\r\n    }\r\n    public constructor() {\r\n        super({ duration: 800, color: 'black' });\r\n        this.cover = new Div({\r\n            size: ['100%', '100%'],\r\n            background: this.defaultSettings.color,\r\n        });\r\n        this.append(this.cover);\r\n    }\r\n    applySettings(settings?: TransitionInWipeSettings) {\r\n        super.applySettings(settings);\r\n        this.cover.style(`background: ${settings?.color || this.defaultSettings.color};`);\r\n    }\r\n}\r\n\r\nexport class TransitionOutWipeRight extends TransitionOut<TransitionOutWipeSettings> {\r\n    private cover: Div;\r\n    public set progress(value: number) {\r\n        this.cover.style(`transform: translateX(${Ease.easeOut(value)*100}%);`);\r\n    }\r\n    public constructor() {\r\n        super({ duration: 800, color: 'black' });\r\n        this.cover = new Div({\r\n            size: ['100%', '100%'],\r\n            background: 'black',\r\n        });\r\n        this.append(this.cover);\r\n    }\r\n    applySettings(settings?: TransitionOutWipeSettings) {\r\n        super.applySettings(settings);\r\n        this.cover.style(`background: ${settings?.color || 'black'};`);\r\n    }\r\n}", "import { Div } from \"../../html/div\";\r\nimport { TransitionIn, TransitionOut, TransitionSettings } from \"./transitionBase\";\r\nimport { TransitionInFade, TransitionOutFade } from \"./transitionFade\";\r\nimport { TransitionInInstant, TransitionOutInstant } from \"./transitionInstant\";\r\nimport { TransitionInWipeLeft, TransitionInWipeRight, TransitionOutWipeLeft, TransitionOutWipeRight } from \"./transitionWipe\";\r\n\r\nexport class Transitions extends Div {\r\n    public readonly IN = {\r\n        FADE: new TransitionInFade(),\r\n        WIPELEFT: new TransitionInWipeLeft(),\r\n        WIPERIGHT: new TransitionInWipeRight(),\r\n        INSTANT: new TransitionInInstant(),\r\n    };\r\n    public readonly OUT = {\r\n        FADE: new TransitionOutFade(),\r\n        WIPELEFT: new TransitionOutWipeLeft(),\r\n        WIPERIGHT: new TransitionOutWipeRight(),\r\n        INSTANT: new TransitionOutInstant(),\r\n    };\r\n\r\n    public constructor() {\r\n        super({\r\n            classNames: ['transitions'],\r\n            size: ['100%', '100%'],\r\n            style: ' z-index: 100; pointer-events: none;',\r\n        });\r\n        [...Object.values(this.IN), ...Object.values(this.OUT)].forEach(transition => {\r\n            this.append(transition);\r\n            transition.active = false;\r\n            transition.progress = 0;\r\n\r\n        });\r\n    }\r\n\r\n    trigger<T1 extends TransitionIn, T2 extends TransitionOut>({\r\n        from,\r\n        to,\r\n        inTransition,\r\n        inSettings,\r\n        outTransition,\r\n        outSettings\r\n    }: {\r\n        from?: Div;\r\n        to?: Div;\r\n        inTransition: T1;\r\n        inSettings?: (typeof inTransition)['data']['settings'];\r\n        outTransition: T2;\r\n        outSettings?: (typeof outTransition)['data']['settings'];\r\n    }) {\r\n        inTransition.trigger(from, to, outTransition, inSettings, outSettings);\r\n    }\r\n}", "import { Div } from '../html/div';\r\nimport { Ticker } from './ticker';\r\nimport { Transitions } from './transitions/transitionLibrary';\r\n\r\nexport class Container extends Div{\r\n    ticker: Ticker;\r\n    transitions: Transitions;\r\n   \r\n    public constructor() {\r\n        super({\r\n            classNames: ['container'],\r\n            style: 'width: 100%; height: 100%; overflow: hidden;',\r\n        });\r\n\r\n        this.ticker = new Ticker();\r\n        this.ticker.addCallback(this.tick.bind(this));\r\n\r\n        this.append(this.transitions = new Transitions());\r\n\r\n        window.addEventListener('resize', this.resize.bind(this));\r\n    }\r\n\r\n    resize() {\r\n        super.resize();\r\n    }\r\n\r\n    tick() {\r\n        $.frame++;\r\n        $.time = this.ticker.elapsedTime;\r\n        super.tick();\r\n    }\r\n\r\n    start() {\r\n        this.ticker.start();\r\n        this.resize();\r\n    }\r\n \r\n}\r\n\r\n\r\n", "import { Vector2 } from './vector2';\r\n\r\nexport class MathUtil {\r\n    // Max method overloads\r\n    static max(a: number, b: number): number;\r\n    static max(a: Vector2, b: Vector2): Vector2;\r\n    static max(a: number | Vector2, b: number | Vector2): number | Vector2 {\r\n        if (typeof a === 'number' && typeof b === 'number') {\r\n            return a > b ? a : b;\r\n        } else if (a instanceof Vector2 && b instanceof Vector2) {\r\n            return new Vector2(\r\n                a.x > b.x ? a.x : b.x,\r\n                a.y > b.y ? a.y : b.y\r\n            );\r\n        }\r\n        throw new Error('Invalid max arguments: both arguments must be either numbers or Vector2 objects');\r\n    }\r\n    \r\n    // Min method overloads\r\n    static  min(a: number, b: number): number;\r\n    static min(a: Vector2, b: Vector2): Vector2;\r\n    static min(a: number | Vector2, b: number | Vector2): number | Vector2 {\r\n        if (typeof a === 'number' && typeof b === 'number') {\r\n            return a < b ? a : b;\r\n        } else if (a instanceof Vector2 && b instanceof Vector2) {\r\n            return new Vector2(\r\n                a.x < b.x ? a.x : b.x,\r\n                a.y < b.y ? a.y : b.y\r\n            );\r\n        }\r\n        throw new Error('Invalid min arguments: both arguments must be either numbers or Vector2 objects');\r\n    }\r\n    \r\n    // Clamp method overloads\r\n    static clamp(value: number, min: number, max: number): number;\r\n    static clamp(value: Vector2, min: Vector2, max: Vector2): Vector2;\r\n    static clamp(value: number | Vector2, min: number | Vector2, max: number | Vector2): number | Vector2 {\r\n        if (typeof value === 'number' && typeof min === 'number' && typeof max === 'number') {\r\n            return this.max(min, this.min(value, max)) as number;\r\n        } else if (value instanceof Vector2 && min instanceof Vector2 && max instanceof Vector2) {\r\n            return new Vector2(\r\n                (this.max(min.x, this.min(value.x, max.x)) as number),\r\n                (this.max(min.y, this.min(value.y, max.y)) as number)\r\n            );\r\n        }\r\n        throw new Error('Invalid clamp arguments: all arguments must be either numbers or Vector2 objects');\r\n    }\r\n    \r\n    // Lerp method overloads\r\n    static lerp(a: number, b: number, t: number): number;\r\n    static lerp(a: Vector2, b: Vector2, t: number): Vector2;\r\n    static lerp(a: number | Vector2, b: number | Vector2, t: number): number | Vector2 {\r\n        if (typeof a === 'number' && typeof b === 'number') {\r\n            return a + (b - a) * t;\r\n        } else if (a instanceof Vector2 && b instanceof Vector2) {\r\n            return new Vector2(\r\n                a.x + (b.x - a.x) * t,\r\n                a.y + (b.y - a.y) * t\r\n            );\r\n        }\r\n        throw new Error('Invalid lerp arguments: a and b must be either both numbers or both Vector2 objects');\r\n    }\r\n}", "import { MathUtil } from '../math/math';\r\nimport { Vector2 } from '../math/vector2';\r\nimport { Div } from './div';\r\nimport { ElOptions } from './el';\r\n\r\nexport type SpriteOptions = {\r\n    image: string;\r\n    size: Vector2;\r\n    columns: number;\r\n    rows: number;\r\n    value?: number;\r\n} & Exclude<ElOptions, 'background' | 'size'>;\r\n\r\nexport class Sprite extends Div {\r\n    max: number;\r\n    options: SpriteOptions;\r\n\r\n    public constructor(options: SpriteOptions) {\r\n        super({\r\n            size: options.size,\r\n            background: {\r\n                type: 'image',\r\n                image: options.image,\r\n                size: `${options.size.x*options.columns}px ${options.size.y*options.rows}px`,\r\n                repeat: 'no-repeat',\r\n            },\r\n            style: `transform-origin: ${options.size.x*options.columns/2}px ${options.size.y*options.rows/2}px;`,\r\n            ...options,\r\n        });\r\n        this.max = options.columns * options.rows;\r\n        this.options = options;\r\n        this.value = options.value || 0;\r\n    }\r\n\r\n    public getSize(): Vector2 {\r\n        return new Vector2(this.options.size.x * this.options.columns, this.options.size.y * this.options.rows);\r\n    }\r\n\r\n    private _value: number;\r\n\r\n    public set value(value: number) {\r\n        this._value = Math.floor(value % this.max);\r\n        let column = this._value % (this.options.columns);\r\n        let row = Math.floor(this._value / (this.options.columns));\r\n        this.style(`background-position-x: -${this.options.size.x*column}px; background-position-y: -${this.options.size.y*row}px;`);\r\n    }\r\n\r\n    public set factor(factor: number) {\r\n        this.value = MathUtil.clamp(factor, 0, 1) * (this.max-1);\r\n    }\r\n}", "import { Sprite } from \"../util/html/sprite\";\r\nimport { Vector2 } from \"../util/math/vector2\";\r\n\r\nexport interface CharacterType {\r\n    skin: string;\r\n    layers: string[]\r\n}\r\n\r\nexport class Character extends Sprite {\r\n    private layers: Sprite[] = [];\r\n    public constructor(public data: CharacterType) {\r\n        super({\r\n            image: `dist/images/Character_skin_colors/${data.skin}.png`,\r\n            size: new Vector2(100, 64),\r\n            columns: 10,\r\n            rows: 7,\r\n            value: 0,\r\n        });\r\n        this.data.layers.forEach(d => {\r\n            const layer = new Sprite({\r\n                image: `dist/images/${d}.png`,\r\n                size: new Vector2(100, 64),\r\n                columns: 10,\r\n                rows: 7,\r\n                value: 0,\r\n            });\r\n            this.layers.push(layer);\r\n            this.append(layer);\r\n        });\r\n    }\r\n    public set value(value: number) {\r\n        super.value = value;\r\n        this.layers?.forEach(layer => {\r\n            layer.value = value;\r\n        });\r\n    }\r\n    public get value(): number {\r\n        return super.value;\r\n    }\r\n}", "import { Schedule } from \"../logic/tasks/schedule\";\r\nimport { Task, TaskType } from \"../logic/tasks/task\";\r\nimport { Div } from \"../util/html/div\";\r\nimport { Vector2 } from \"../util/math/vector2\";\r\n\r\nexport interface VisualTaskType extends TaskType {\r\n    animationStart?: number;\r\n    animationDuration?: number;\r\n    animationOffset?: Vector2;\r\n    animationSpeed?: number;\r\n}\r\n\r\nexport class VisualTask extends Task {\r\n    public constructor(public data: VisualTaskType) {\r\n        super(data);\r\n        this.data.animationStart = this.data.animationStart ?? 50;\r\n        this.data.animationDuration = this.data.animationDuration ?? 6;\r\n        this.data.animationOffset = this.data.animationOffset ?? new Vector2(0, 0);\r\n        this.data.animationSpeed = this.data.animationSpeed ?? 200;\r\n    }\r\n}", "import { MapLocation } from \"../logic/map/mapLocation\";\r\nimport { TimePeriod } from \"../logic/tasks/time\";\r\nimport { Vector2 } from \"../util/math/vector2\";\r\nimport { VisualTask } from \"./visualTask\";\r\n\r\n\r\nexport class IdleTask extends VisualTask {\r\n    public constructor({ start, end, location }: { start: TimePeriod; end: TimePeriod; location: MapLocation; }) {\r\n        super({ name: '', start, end, location, color: 'white', priority: 0 ,\r\n            animationDuration: 5,\r\n            animationStart: 0,\r\n            animationSpeed: 300,\r\n         });\r\n    }\r\n}\r\nexport class SleepTask extends VisualTask {\r\n    public constructor({ start, end, location }: { start: TimePeriod; end: TimePeriod; location: MapLocation; }) {\r\n        super({ name: 'Sleep', start, end, location, color: '#9f9f9f', priority: 0.1, \r\n            animationDuration: 2,\r\n            animationStart: 68,\r\n            animationOffset: new Vector2(20, 0),\r\n            animationSpeed: 1000,\r\n         });\r\n    }\r\n}\r\nexport class ShowerTask extends VisualTask {\r\n    public constructor({ start, end, location }: { start: TimePeriod; end: TimePeriod; location: MapLocation; }) {\r\n        super({ name: 'Wash', start, end, location, color: '#c7c7ff', priority: 1,\r\n            animationDuration: 4,\r\n            animationStart: 30,\r\n            animationSpeed: 1000,\r\n         });\r\n        \r\n    }\r\n}\r\nexport class EatTask extends VisualTask {\r\n    public constructor({ start, end, location }: { start: TimePeriod; end: TimePeriod; location: MapLocation; }) {\r\n        super({ name: 'Food', start, end, location, color: '#b5d5d8', priority: 1 ,\r\n            animationDuration: 5,\r\n            animationStart: 0,\r\n            animationSpeed: 200,\r\n         });\r\n    }\r\n}\r\nexport class EngineTask extends VisualTask {\r\n    public constructor({ start, end, location }: { start: TimePeriod; end: TimePeriod; location: MapLocation; }) {\r\n        super({ name: 'Office', start, end, location, color: '#e1e1e1' });\r\n    }\r\n}\r\nexport class WorkTask extends VisualTask {\r\n    public constructor({ start, end, location }: { start: TimePeriod; end: TimePeriod; location: MapLocation; }) {\r\n        super({ name: 'Work', start, end, location, color: '#dcb1cd' });\r\n    }\r\n}\r\n", "import { MapManager } from \"../logic/map/mapManager\";\r\nimport { Character } from \"./character\";\r\nimport { EatTask, EngineTask, ShowerTask, SleepTask, WorkTask } from \"./prefabs\";\r\nimport { PersonVisualType } from \"./visualPerson\";\r\nimport { Vector2 } from \"../util/math/vector2\";\r\n\r\nexport function getVisualPeople(mapManager: MapManager): PersonVisualType[] {\r\n    return [\r\n        {\r\n            name: \"Dave\",\r\n            tasks: [\r\n                new EngineTask({ start: 0, end: 8, location: mapManager.getLocation(\"wheel\") }),\r\n                new EatTask({ start: 8, end: 10, location: mapManager.getLocation(\"deck3\") }),\r\n                new SleepTask({ start: 10, end: 18, location: mapManager.getLocation(\"gun3\") }),\r\n                new WorkTask({ start: 18, end: 22, location: mapManager.getLocation(\"deck4\") }),\r\n            ],\r\n            character: new Character({\r\n                skin: \"Male_Skin1\",\r\n                layers: [\r\n                    \"Male_Hair/Male_Hair1\",\r\n                    \"Male_Clothing/Boots\",\r\n                    \"Male_Clothing/Shirt\",\r\n                    \"Male_Clothing/Pants\",\r\n                ]\r\n            }),\r\n            offset: new Vector2(0, 0),\r\n        },\r\n        {\r\n            name: \"Jane\",\r\n            tasks: [\r\n                new SleepTask({ start: 0, end: 2, location: mapManager.getLocation(\"gun3\") }),\r\n                new WorkTask({ start: 2, end: 6, location: mapManager.getLocation(\"deck2\") }),\r\n                new EngineTask({ start: 8, end: 16, location: mapManager.getLocation(\"wheel\") }),\r\n                new EatTask({ start: 16, end: 18, location: mapManager.getLocation(\"deck3\") }),\r\n                new SleepTask({ start: 18, end: 24, location: mapManager.getLocation(\"gun3\") }),\r\n\r\n            ],\r\n            character: new Character({\r\n                skin: \"Female_Skin2\",\r\n                layers: [\r\n                    \"Female_Hair/Female_Hair4\",\r\n                    \"Female_Clothing/Corset\",\r\n                    \"Female_Clothing/Boots\",\r\n                    \"Female_Clothing/Skirt\",\r\n                ]\r\n            }),\r\n            offset: new Vector2(10, -15),\r\n        },\r\n        {\r\n            name: \"Andrew\",\r\n            tasks: [\r\n                new EatTask({ start: 0, end: 1, location: mapManager.getLocation(\"deck3\") }),\r\n                new SleepTask({ start: 2, end: 10, location: mapManager.getLocation(\"gun3\") }),\r\n                new WorkTask({ start: 10, end: 14, location: mapManager.getLocation(\"deck2\") }),\r\n                new EngineTask({ start: 15, end: 22, location: mapManager.getLocation(\"wheel\") }),\r\n                new EatTask({ start: 23, end: 24, location: mapManager.getLocation(\"deck3\") }),\r\n            ],\r\n            character: new Character({\r\n                skin: \"Male_Skin3\",\r\n                layers: [\r\n                    \"Male_Hair/Male_Hair3\",\r\n                    \"Male_Clothing/Boots\",\r\n                    \"Male_Clothing/Green_Shirt_v2\",\r\n                    \"Male_Clothing/Pants\",\r\n                ]\r\n            }),\r\n            offset: new Vector2(-15, 10),\r\n        },\r\n    ];\r\n}", "import { RenderLayer } from \"../../render/renderLayer\";\r\nimport { Div } from \"../../util/html/div\";\r\nimport { Vector2 } from \"../../util/math/vector2\";\r\nimport { Character } from \"../../visuals/character\";\r\nimport { Managers } from \"../managers\";\r\nimport { Schedule, ScheduleType } from \"../tasks/schedule\";\r\nimport { Task, TaskType } from \"../tasks/task\";\r\n\r\nexport interface PersonType {\r\n    name: string;\r\n    tasks?: (TaskType | Task)[];\r\n    speed?: number;\r\n}\r\n\r\nexport type phase = 'idle' | 'travel' | 'task';\r\nexport class Person {\r\n    public readonly schedule: Schedule;\r\n    scheduleDom: Div;\r\n    activeTask: Task;\r\n    characterDom: Div;\r\n    speed: number = 500; // pixels per hour\r\n    protected _phase: phase = 'idle';\r\n    public get phase(): phase {\r\n        return this._phase;\r\n    }\r\n    public set phase(value: phase) {\r\n        this._phase = value;\r\n        // this.characterDom.background({\r\n        //     idle: 'blue',\r\n        //     travel: 'yellow',\r\n        //     task: 'green',\r\n        // }[value]);\r\n    }\r\n    public constructor(private managers: Managers<Person>, public readonly data: PersonType, scheduleClass: new (managers: Managers<Person>, person: Person, data: ScheduleType) => Schedule) {\r\n        this.schedule = new scheduleClass(this.managers, this, {\r\n            tasks: data.tasks,\r\n        });\r\n        this.speed = data.speed || 500;\r\n    }\r\n\r\n    build(): void {\r\n        this.schedule.build();\r\n        this.scheduleDom = new Div({\r\n            position: new Vector2(0, 0),\r\n            size: new Vector2(Schedule.TASK_WIDTH * 24, Schedule.TASK_HEIGHT),\r\n            style: 'box-sizing: border-box; position: absolute;',\r\n        });\r\n\r\n        this.scheduleDom.append(new Div({\r\n            position: new Vector2(0, 0),\r\n            size: new Vector2(100, Schedule.TASK_HEIGHT),\r\n            text: this.data.name,\r\n            style: 'display: flex; align-items: center; justify-content: center; font-size: 15px; font-family: \"Arial\", sans-serif; box-sizing: border-box; position: absolute; ',\r\n        }));\r\n        this.scheduleDom.append(this.schedule.dom);\r\n\r\n        this.characterDom = new Div({\r\n            position: new Vector2(0, 0),\r\n            // background: { color: 'white' },\r\n            // style: 'box-sizing: border-box; position: absolute; border-radius: 50%; margin-left: -10px; margin-top: -10px; border: 2px solid black; box-sizing: border-box;',\r\n        });\r\n        this.managers.renderer.add(this.characterDom, 'ship', 50);\r\n\r\n        // this.characterDom.append(new Div({\r\n        //     text: this.name,\r\n        //     position: new Vector2(20, -1),\r\n        //     style: 'font-size: 14px; font-family: \"Arial\", sans-serif; padding: 2px 4px; border-radius: 4px; background: white;',\r\n        // }));\r\n\r\n    }\r\n\r\n    direction: Vector2;\r\n\r\n    setTime(time: number): void {\r\n        const info = this.schedule.getInfoAtTime(time);\r\n        this.phase = info.phase;\r\n        this.activeTask = info.task;\r\n        const lastPosition = this.characterDom.transform.position;\r\n        if (lastPosition.subtract(info.position).magnitude() > 0) {\r\n            this.direction = info.position.subtract(lastPosition).normalise();\r\n        } else {\r\n            this.direction = undefined;\r\n        }\r\n        this.characterDom.transform.setPosition(info.position);\r\n\r\n        this.schedule.setTime(time);\r\n        this.tick();\r\n    }\r\n\r\n    tick(): void {\r\n\r\n    }\r\n\r\n}", "import { Managers } from \"../logic/managers\";\r\nimport { MapLocation } from \"../logic/map/mapLocation\";\r\nimport { phase } from \"../logic/people/person\";\r\nimport { Schedule } from \"../logic/tasks/schedule\";\r\nimport { TaskType, Task } from \"../logic/tasks/task\";\r\nimport { TimePeriod } from \"../logic/tasks/time\";\r\nimport { Div } from \"../util/html/div\";\r\nimport { Vector2 } from \"../util/math/vector2\";\r\nimport { IdleTask } from \"./prefabs\";\r\nimport { PersonVisual } from \"./visualPerson\";\r\nimport { VisualTask, VisualTaskType } from \"./visualTask\";\r\n\r\nexport interface ScheduleType {\r\n\ttasks?: (TaskType | Task)[];\r\n}\r\n\r\nexport class VisualSchedule extends Schedule {\r\n\r\n\tprotected table: Record<TimePeriod, VisualTask>;\r\n\tprotected taskList: VisualTask[];\r\n\tpublic person: PersonVisual;\r\n\r\n\tpublic constructor(managers: Managers, person: PersonVisual, data: ScheduleType = {}) {\r\n\t\tsuper(managers, person, data);\r\n\t}\r\n\r\n\taddTask(task: VisualTask | VisualTaskType): void {\r\n\t\tif (task instanceof VisualTask) {\r\n\t\t\tthis.taskList.push(task);\r\n\t\t} else {\r\n\t\t\tthis.taskList.push(new VisualTask(task));\r\n\t\t}\r\n\t}\r\n\r\n\tcreateIdleTask(start: TimePeriod, end: TimePeriod, location: MapLocation): VisualTask {\r\n\t\treturn new IdleTask({\r\n\t\t\tstart,\r\n\t\t\tend,\r\n\t\t\tlocation,\r\n\t\t});\r\n\t}\r\n}", "import { Managers } from \"../logic/managers\";\r\nimport { Person, PersonType } from \"../logic/people/person\";\r\nimport { Sprite } from \"../util/html/sprite\";\r\nimport { Vector2 } from \"../util/math/vector2\";\r\nimport { Character } from \"./character\";\r\nimport { VisualSchedule } from \"./schedule\";\r\nimport { VisualTask } from \"./visualTask\";\r\n\r\nexport type PersonVisualType = PersonType & {\r\n    character: Character;\r\n    offset: Vector2;\r\n}\r\nexport class PersonVisual extends Person {\r\n    activeTask: VisualTask;\r\n    character: Character;\r\n    schedule: VisualSchedule;\r\n\r\n    public constructor(managers: Managers<PersonVisual>, public readonly data: PersonVisualType) {\r\n        super(managers, data, VisualSchedule);\r\n    }\r\n\r\n    build(): void {\r\n        super.build();\r\n\r\n        this.characterDom.append(this.data.character);\r\n        this.characterDom.transform.setPosition(this.data.offset);\r\n    }\r\n\r\n    tick(): void {\r\n        super.tick();\r\n        switch (this.phase) {\r\n            case 'travel':\r\n                this.data.character.value = Math.floor($.time / 200 % 8) + 20;\r\n                this.data.character.transform.setPosition(new Vector2(-50, -60));\r\n                break;\r\n            default:\r\n            case 'task':\r\n                this.data.character.value = Math.floor($.time / this.activeTask.data.animationSpeed % (this.activeTask.data.animationDuration)) + this.activeTask.data.animationStart;\r\n                this.data.character.transform.setPosition(this.activeTask.data.animationOffset.add(new Vector2(-50, -60)));\r\n                break;\r\n        }\r\n\r\n        if (this.direction && this.direction.x !== 0) {\r\n            if (this.direction.x < 0) {\r\n                this.characterDom.transform.setScale(new Vector2(1, 1));\r\n            } else {\r\n                this.characterDom.transform.setScale(new Vector2(-1, 1));\r\n            }\r\n        }\r\n    }\r\n}", "import { LogicManager } from './logic/logicManager';\r\nimport { Container } from \"./util/game/container\";\r\nimport { getVisualPeople } from './visuals/visualPeople';\r\nimport { PersonVisual } from './visuals/visualPerson';\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\r\n    const g = new Container();\r\n    document.body.appendChild(g.dom);\r\n    g.append(new LogicManager<PersonVisual>(g, { Person: PersonVisual }, getVisualPeople));\r\n    g.start();\r\n});"],
  "mappings": "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",
  "names": ["segment", "layer", "IdleTask", "IdleTask"]
}
